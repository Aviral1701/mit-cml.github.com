<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:dc="http://purl.org/dc/terms/"
  xmlns:foaf="http://xmlns.com/foaf/0.1/"
  xmlns:og="http://ogp.me/ns#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:sioc="http://rdfs.org/sioc/ns#"
  xmlns:sioct="http://rdfs.org/sioc/types#"
  xmlns:skos="http://www.w3.org/2004/02/skos/core#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#">

<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta charset="utf-8" />
<meta about="/content/no-text-while-driving" property="sioc:num_replies" content="0" datatype="xsd:integer" />
<link rel="shortcut icon" href="../sites/explore.appinventor.mit.edu/files/AI2-Favicon.ico" type="image/vnd.microsoft.icon" />
<meta content="No Text While Driving" about="/content/no-text-while-driving" property="dc:title" />
<link rel="shortlink" href="319.html" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../content/no-text-while-driving.html" />
  <title>No Text While Driving | Explore MIT App Inventor</title>
  <style>@import url("../modules/system/system.basee360.css?mwmn8e");
@import url("../modules/system/system.menuse360.css?mwmn8e");
@import url("../modules/system/system.messagese360.css?mwmn8e");
@import url("../modules/system/system.themee360.css?mwmn8e");</style>
<style>@import url("../modules/comment/commente360.css?mwmn8e");
@import url("../modules/field/theme/fielde360.css?mwmn8e");
@import url("../modules/node/nodee360.css?mwmn8e");
@import url("../modules/search/searche360.css?mwmn8e");
@import url("../modules/user/usere360.css?mwmn8e");
@import url("../sites/all/modules/extlink/extlinke360.css?mwmn8e");
@import url("../sites/all/modules/views/css/viewse360.css?mwmn8e");</style>
<style>@import url("../sites/all/modules/ctools/css/ctoolse360.css?mwmn8e");
@import url("../sites/all/modules/panels/css/panelse360.css?mwmn8e");</style>
<style>@import url("../sites/all/themes/adaptivetheme/adaptivetheme/css/at.basee360.css?mwmn8e");
@import url("../sites/all/themes/adaptivetheme/adaptivetheme/css/at.layoute360.css?mwmn8e");
@import url("../sites/all/themes/adaptivetheme/adaptivetheme/css/at.messagese360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/html-elementse360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/formse360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/tablese360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/pagee360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/articlese360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/commentse360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/fieldse360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/blockse360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/navigatione360.css?mwmn8e");
@import url("../sites/explore.appinventor.mit.edu/files/color/newexploretheme-8cabcfae/colorse360.css?mwmn8e");
@import url("../sites/all/themes/sky/css/sky.settings.stylee360.css?mwmn8e");
@import url("../sites/all/themes/newexploretheme/css/NewExplorethemee360.css?mwmn8e");
@import url("../sites/all/themes/newexploretheme/video-js/video-jse360.css?mwmn8e");</style>
<style media="print">@import url("../sites/all/themes/sky/css/printe360.css?mwmn8e");</style>
<link type="text/css" rel="stylesheet" href="../sites/all/themes/sky/css/sky.responsive.stylee360.css?mwmn8e" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/all/themes/sky/css/sky.responsive.gpanelse360.css?mwmn8e" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/explore.appinventor.mit.edu/files/at_css/newexploretheme.responsive.layoute360.css?mwmn8e" media="all" />

<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="http://explore.appinventor.mit.edu/sites/explore.appinventor.mit.edu/files/at_css/newexploretheme.lt-ie9.layout.css?mwmn8e" media="all" />
<![endif]-->
  <script src="../misc/jquery1cc4.js?v=1.4.4"></script>
<script src="../misc/jquery.once7839.js?v=1.2"></script>
<script src="../misc/drupale360.js?mwmn8e"></script>
<script src="../sites/all/modules/extlink/extlinke360.js?mwmn8e"></script>
<script src="../sites/all/modules/panels/js/panelse360.js?mwmn8e"></script>
<script src="../sites/all/modules/google_analytics/googleanalyticse360.js?mwmn8e"></script>
<script>var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-31803258-1"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();</script>
<script src="../sites/all/themes/sky/js/scriptse360.js?mwmn8e"></script>
<script src="../sites/all/themes/newexploretheme/video-js/videoe360.js?mwmn8e"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"newexploretheme","theme_token":"lMW8tMnqEklnC2xEFVjYNXZtG0IZDEF4RiioIBDu-J4","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/extlink\/extlink.js":1,"sites\/all\/modules\/panels\/js\/panels.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"sites\/all\/themes\/sky\/js\/scripts.js":1,"sites\/all\/themes\/newexploretheme\/video-js\/video.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/extlink\/extlink.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/panels\/css\/panels.css":1,"sites\/all\/themes\/adaptivetheme\/adaptivetheme\/css\/at.base.css":1,"sites\/all\/themes\/adaptivetheme\/adaptivetheme\/css\/at.layout.css":1,"sites\/all\/themes\/adaptivetheme\/adaptivetheme\/css\/at.messages.css":1,"sites\/all\/themes\/sky\/css\/html-elements.css":1,"sites\/all\/themes\/sky\/css\/forms.css":1,"sites\/all\/themes\/sky\/css\/tables.css":1,"sites\/all\/themes\/sky\/css\/page.css":1,"sites\/all\/themes\/sky\/css\/articles.css":1,"sites\/all\/themes\/sky\/css\/comments.css":1,"sites\/all\/themes\/sky\/css\/fields.css":1,"sites\/all\/themes\/sky\/css\/blocks.css":1,"sites\/all\/themes\/sky\/css\/navigation.css":1,"sites\/all\/themes\/newexploretheme\/color\/colors.css":1,"sites\/all\/themes\/sky\/css\/sky.settings.style.css":1,"sites\/all\/themes\/newexploretheme\/css\/NewExploretheme.css":1,"sites\/all\/themes\/newexploretheme\/video-js\/video-js.css":1,"sites\/all\/themes\/sky\/css\/print.css":1,"sites\/all\/themes\/sky\/css\/sky.responsive.style.css":1,"sites\/all\/themes\/sky\/css\/sky.responsive.gpanels.css":1,"public:\/\/at_css\/newexploretheme.responsive.layout.css":1,"public:\/\/at_css\/newexploretheme.lt-ie9.layout.css":1}},"extlink":{"extTarget":"_blank","extClass":"ext","extSubdomains":1,"extExclude":"","extInclude":"","extCssExclude":"","extCssExplicit":"","extAlert":0,"extAlertText":"This link will take you to an external web site. We are not responsible for their content.","mailtoClass":"mailto"},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip"}});</script>
<!-- Put the following javascript before the closing </head> tag. -->
<script>
 ( function() {
    var cx = '009943970440830858880:hxy3yq9wtr0';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-319 page-type-tutorial lang-en site-name-explore-mit-app-inventor section-content site-name-hidden color-scheme-custom newexploretheme gecko win fs-small bs-n bb-n mb-dd rc-0 rct-8 ia-r bf-l snf-a ssf-a ptf-a ntf-a ctf-a btf-a" >
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page" class="container">

  
  <header class="clearfix" role="banner">

<!--    <div id="branding">
              <hgroup class="element-invisible">
                      <h1 id="site-name" class="element-invisible"><a href="/" title="Home page">Explore MIT App Inventor</a></h1>
                            </hgroup>
                </div>-->

          <div id="menu-bar" class="nav clearfix">
      <nav id="block-system-main-menu" class="block block-system block-menu block-odd block-count-1 block-region-menu-bar menu-wrapper clearfix">
              <h2 class="block-title element-invisible element-invisible">Main menu</h2>
            <ul class="menu clearfix"><li class="first collapsed menu-item-218"><a href="../index-2.html" title="Explore MIT App Inventor Home Page">Home</a></li><li class="collapsed menu-item-686"><a href="../news-events.html" title="Upcoming events and recent news">News+Events</a></li><li class="expanded active-trail menu-item-958"><a href="../tutorials.html" title="Tutorials to learn about using MIT App Inventor" class="active-trail">Tutorials</a><ul class="menu clearfix"><li class="first leaf menu-item-2136"><a href="../content/alertme.html">AlertMe</a></li><li class="leaf menu-item-2140"><a href="../content/android-wheres-my-car.html">Android, Where&#039;s My Car</a></li><li class="leaf menu-item-2135"><a href="../content/broadcasthub.html">Broadcast Hub</a></li><li class="leaf menu-item-2128"><a href="../content/colored-dots.html">Colored Dots</a></li><li class="leaf menu-item-2150"><a href="../get-gold.html">Get the Gold</a></li><li class="leaf menu-item-2151"><a href="../ai2/get-gold.html">Get the Gold</a></li><li class="leaf menu-item-2139"><a href="../content/google-voice.html">Google Voice for Texting over Wifi</a></li><li class="leaf menu-item-2122"><a href="../content/hellopurr.html">Hello Purr</a></li><li class="leaf menu-item-2162"><a href="../ai2/hellopurr.html">Hello Purr for App Inventor 2</a></li><li class="leaf menu-item-965"><a href="../content/hellopurr.html" title="HelloPurr">HelloPurr</a></li><li class="leaf menu-item-2123"><a href="../teach/magic-8-ball.html">Magic 8-Ball</a></li><li class="leaf menu-item-2165"><a href="../ai2/magic-8-ball.html">Magic 8-ball for App Inventor 2</a></li><li class="leaf menu-item-2131"><a href="../content/makequiz-and-takequiz.html">MakeQuiz and TakeQuiz</a></li><li class="leaf menu-item-2132"><a href="../content/maptour.html">MapTour</a></li><li class="leaf menu-item-2127"><a href="../content/minigolf.html">Mini Golf: Fling, TouchUp, TouchDown Gestures</a></li><li class="leaf menu-item-2379"><a href="../ai2/minigolf.html">Mini Golf: Fling, TouchUp, TouchDown Gestures for App Inventor 2</a></li><li class="leaf menu-item-2143"><a href="../content/molemash-2.html">MoleMash 2</a></li><li class="leaf menu-item-2152"><a href="../ai2/molemash-2.html">MoleMash 2</a></li><li class="leaf menu-item-2125"><a href="../content/molemash.html">MoleMash</a></li><li class="leaf menu-item-2168"><a href="../ai2/molemash.html">MoleMash for App Inventor 2</a></li><li class="leaf menu-item-2138"><a href="../content/no-text-while-driving-part-2.html">No Text While Driving (Part 2)</a></li><li class="leaf active-trail menu-item-2137"><a href="../content/no-text-while-driving.html" class="active-trail active">No Text While Driving</a></li><li class="collapsed menu-item-1733"><a href="../teach/paint-pic.html">Paint Pic</a></li><li class="leaf menu-item-2170"><a href="../ai2/paintpot-part1.html">PaintPot (Part 1) for App Inventor 2</a></li><li class="leaf menu-item-968"><a href="../content/paintpot-part-2.html" title="PaintPot (Part 2)">PaintPot (Part 2)</a></li><li class="leaf menu-item-2189"><a href="../ai2/paintpot-part2.html">PaintPot (Part 2) for App Inventor 2</a></li><li class="leaf menu-item-2124"><a href="../content/paintpot-part-1.html">PaintPot</a></li><li class="leaf menu-item-2126"><a href="../content/piccall.html">PicCall</a></li><li class="leaf menu-item-2169"><a href="../ai2/piccall.html">PicCall for App Inventor 2</a></li><li class="leaf menu-item-2129"><a href="../content/pizzaparty.html">Pizza Party with Fusion Tables</a></li><li class="leaf menu-item-2387"><a href="../ai2/pizzaparty.html">Pizza Party with Fusion Tables for App Inventor 2</a></li><li class="leaf menu-item-2130"><a href="../content/quizme.html">QuizMe</a></li><li class="leaf menu-item-2141"><a href="../content/stockquotes.html">StockQuotes</a></li><li class="leaf menu-item-2164"><a href="../ai2/stockquotes.html">StockQuotes</a></li><li class="leaf menu-item-2134"><a href="../content/text-group-part-2.html">TextGroup (Part 2)</a></li><li class="leaf menu-item-2133"><a href="../content/textgroup.html">TextGroup</a></li><li class="leaf menu-item-2142"><a href="../content/videowall.html">VideoWall</a></li><li class="last leaf menu-item-2163"><a href="../ai2/videowall.html">VideoWall</a></li></ul></li><li class="leaf menu-item-432"><a href="../forums.html" title="MIT App Inventor forums">Forums</a></li><li class="collapsed menu-item-1644"><a href="../resources.html" title="Resources related to MIT App Inventor">Resources</a></li><li class="collapsed menu-item-525"><a href="../support.html" title="Support on using MIT App Inventor">Support</a></li><li class="collapsed menu-item-438"><a href="../stories.html" title="Stories about Users&#039; Successes with MIT App Inventor">Stories</a></li><li class="collapsed menu-item-1346"><a href="../setup-mit-app-inventor.html" title="Get setup to use App Inventor">Setup</a></li><li class="collapsed menu-item-2106"><a href="../teach.html" title="Materials for teaching App Inventor">Teach</a></li><li class="last leaf menu-item-527"><a href="http://beta.appinventor.mit.edu/" title="Start using App Inventor">Invent</a></li></ul>  </nav>
  </div>

  </header>

  <div id="columns"class="no-menu-bar"><div class="columns-inner clearfix">

            
          <section id="breadcrumb"><h2 class="element-invisible">You are here</h2><ol id="crumbs"><li class="crumb"><a href="../tutorials.html" title="Tutorials to learn about using MIT App Inventor">Tutorials</a></li></ol></section>
    
    <div id="content-column"><div class="content-inner">

      
            <section id="main-content" role="main">

                        
        
        <div id="content">  <div class="region region-content">
    <div id="block-system-main" class="block block-system block-odd block-count-2 block-region-content">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <article id="article-319" class="article article-type-tutorial article-lang-en odd article-full clearfix" about="/content/no-text-while-driving" typeof="sioc:Item foaf:Document" role="article">

  
        <header class="clearfix">

      
              <h1 property="dc:title" datatype="" class="article-title">
                      No Text While Driving                  </h1>
      
      
    </header>
    
  <div class="article-content">
  <div class="field field-name-body field-type-text-with-summary field-label-hidden view-mode-full"><div class="field-items"><div class="field-item even" property="content:encoded"><style>
<!--/*--><![CDATA[/* ><!--*/

li {
padding-bottom: 7px;
}

.basicblock {
border: 1px dashed #7AA81C;
padding-left: 4px;
padding-right: 4px;
padding-top: 1px;
padding-bottom: 1px;
background-color: #E7F2CB;
font-size: 9pt;
text-wrap: suppress;
	
}

.callblock {
border: 1px dashed #000000;
padding-left: 4px;
padding-right: 4px;
padding-top: 1px;
padding-bottom: 1px;
background-color: #E0D1FF;
font-size: 9pt;
text-wrap: suppress;

}

.argblock {
border: 1px dashed #000000;
padding-left: 4px;
padding-right: 4px;
padding-top: 1px;
padding-bottom: 1px;
background-color: #E5E5FF;
font-size: 9pt;
text-wrap: suppress;

}

.textblock {
border: 1px dashed #000000;
padding-left: 4px;
padding-right: 4px;
padding-top: 1px;
padding-bottom: 1px;
background-color: #FADAA0;
font-size: 9pt;
text-wrap: suppress;

}

.setblock {
border: 1px dashed #000000;
padding-left: 4px;
padding-right: 4px;
padding-top: 1px;
padding-bottom: 1px;
background-color: #C1D5F8;
font-size: 9pt;
text-wrap: suppress;
}

.controlblock {
border: 1px dashed #000000;
padding-left: 4px;
padding-right: 4px;
padding-top: 1px;
padding-bottom: 1px;
background-color: #FAEDBB;
font-size: 9pt;
text-wrap: suppress;
}

/*--><!]]>*/
</style><h2 class="ai-header"><span style="color:green;">No Text While Driving</span></h2>
<p><img src="../sites/all/files/tutorials/NTWD/screenshot.PNG" style="float:right;" /></p>
<p><a href="http://cs.usfca.edu/~wolber/appinventor/bookSplits/ch4NoTexting.pdf">Download Refined Version (Book Chapter PDF)</a></p>
<p>This tutorial demonstrates how an app can respond to text messages automatically. You'll build an app that sends back a response when a text message is received. The idea for the app came from University of San Franciso student Daniel Finnegan.</p>
<p>This tutorial assumes you are familiar with the basics of App Inventor-- using the Component Designer to build a user interface, and using the Blocks Editor to specify event-handlers.If you are not familiar with the basics, try stepping through some of the <a href="../tutorials.html">basic tutorials</a> before continuing.</p>
<h4 class="ai-header">Getting Started</h4>
<p>Connect to the App Inventor web site and start a new project. Name it <span style="color:green;">NoTextWhileDriving</span>, and also set the screen's <b style="color:green;">Title</b> to "NoTextWhileDriving". Open the Blocks Editor and connect to the phone.</p>
<h4 class="ai-header">Introduction</h4>
<p>You'll design the app so that it sends a response to any text message received. You'll also allow the user to customize the response sent.</p>
<p>The tutorial introduces the following App Inventor concepts: </p>
<ul><li>The <b>Texting</b> component for sending texts and processing received texts.</li>
<li>The <b>TinyDB</b> database component for saving the customized message even after the app is closed.</li>
</ul><h4 class="ai-header">Set up the Components</h4>
<p>The user interface for NoTextWhileDriving is simple: it has a text box for the response message and a button for submitting a change to this message. It also has two checkboxes: one to decide whether or not you want to be receiving messages and one to choose to enable  Google Voice. This is useful for texting if your phone doesn't have a SIM card. Visit the <a href="http://appinventor.mit.edu/explore/content/google-voice-texting-over-wifi.html">Texting over Google Voice</a> tutorial to learn more about this.</p>
<p>You'll also need a Texting component and a TinyDB component, both of which will appear in the "non-visual" component area. A table of detailed instructions for designing the components is below, but you can also build it from the following picture of what it should look like:</p>
<p><img src="../sites/all/files/tutorials/NTWD/fullscreen.png" /></p>
<p>The components listed below were used to create the designer window shown above. Drag each component from the Palette into the Viewer and name it as specified below:</p>
<table><tr style="background-color: #EFEFEF; font-weight: bold;"><td>
Component Type
</td>
<td>
Palette Group
</td>
<td>
What you'll name it
</td>
<td>
Purpose of Component
</td>
<td>
Component Settings
</td>
</tr><tr><td>
<b>Label</b>
</td>
<td>Basic</td>
<td style="color:green;">PromptLabel</td>
<td>Let the user know how the app works</td>
<td>Set the <b style="color:green;">Text</b> to "The text below will be sent in response to all texts while this app is running."</td>
</tr><tr><td>
<b>Label</b>
</td>
<td>Basic</td>
<td style="color:green;">ResponseLabel</td>
<td>Displays what text will be sent to incoming messages.</td>
<td></td>
</tr><tr><td>
<b>TextBox</b>
</td>
<td>Basic</td>
<td style="color:green;">NewResponseTextbox</td>
<td>User will enter custom response here</td>
<td>Set the <b style="color:green;">Hint
</b><p> to "Enter custom response."</p></td>
</tr><tr><td>
<b>Button</b>
</td>
<td>Basic</td>
<td style="color:green;">SubmitResponseButton</td>
<td>User clicks this to submit new response</td>
<td>Set the <b style="color:green;">text
</b><p> to "Submit Response."</p></td>
</tr><tr><td>
<b>CheckBox</b>
</td>
<td>Basic</td>
<td style="color:green;">CheckBoxReceivingEnabled</td>
<td>Let the user choose if they want to receive messages.</td>
<td></td>
</tr><tr><td>
<b>CheckBox</b>
</td>
<td>Basic</td>
<td style="color:green;">CheckBoxGvEnabled</td>
<td>Let the user choose if they want to respond using Google Voice.</td>
<td></td>
</tr><tr><td>
<b>Texting</b>
</td>
<td>Social</td>
<td style="color:green;">Texting1</td>
<td>The component that processes the texts</td>
<td></td>
</tr><tr><td>
<b>TinyDB</b>
</td>
<td>Basic</td>
<td style="color:green;">TinyDB1</td>
<td>The component that will store the response in the database</td>
<td></td>
</tr></table><h4 class="ai-header">Add behaviors to the components</h4>
<p><span style="color:green;">NoTextWhileDriving</span> has the following behaviors:</p>
<ol><li>When a text is received, the message displayed in ResponseLabel is sent as a text message response to the sender.</li>
<li>When the user modifies the custom message in NewResponseTextbox and clicks the SubmitResponseButton , the new message is saved persisently in the phone's database.</li>
<li>When the app begins, the custom message is loaded from the database into ResponseLabel.</li>
</ol><h4 class="ai-header">1. Responding to a text</h4>
<p>When a text message is received by the phone, the <span class="basicblock">Texting.MessageReceived</span> event is triggered. Your app should handle this event by setting the PhoneNumber and Message properties of the Texting component appropriately and sending the response text.</p>
<p>You'll need the following blocks: </p>
<table><tr style="background-color: #EFEFEF; font-weight: bold;"><td>
Block type
</td>
<td>
Drawer
</td>
<td>
Purpose
</td>
</tr><tr><td><span class="basicblock">Texting1.MessageReceived</span></td>
<td>Texting1</td>
<td>Event-handler triggered when the phone receives a text</td>
</tr><tr><td><span class="setblock">set Texting1.PhoneNumber to</span></td>
<td>Texting1</td>
<td>Set the PhoneNumber property before sending </td>
</tr><tr><td><span class="argblock">value number</span></td>
<td>My Definitions</td>
<td>This is the phone number of the person who sent the text</td>
</tr><tr><td><span class="setblock">set Texting1.Message to</span></td>
<td>Texting1</td>
<td>Set the Message property before sending</td>
</tr><tr><td><span class="argblock">ResponseLabel.Text</span></td>
<td>ResponseLabel</td>
<td>This is the message the user has entered</td>
</tr><tr><td><span class="callblock">Texting1.SendMessage </span></td>
<td>Texting1</td>
<td>Send the message</td>
</tr></table><p>The blocks should look like this:</p>
<p><img src="../sites/all/files/tutorials/NTWD/messagereceivedblocks.PNG" /></p>
<h4 class="ai-header">How the Blocks Work</h4>
<p>When the phone receives any text message, the <span class="basicblock">Texting1.MessageReceived</span> event is triggered. The phone number of the sender is in the argument number, and the sender's message is in the argument <span class-="">messageText</span>.</p>
<p>In response, the app sends a text message to the sender. To send a text, the app sets the two key properties of the Texting component: PhoneNumber and Message. <span class="setblock">Texting.PhoneNumber</span> is set to the number of the sender, and <span class="setblock">Texting.Message</span> is set to the text in <span class="argblock">ResponseLabel</span> -- this might be the default, "I'm driving right now, I'll contact you shortly.", or the user may have modified it. Once these properties are set, <span class="callblock">Texting1.SendMessage</span> is called to actually send the response text message.</p>
<p>The <span class="controlblock">if</span> block prevents the app from sending the automatic reply if it receives its own message. This would happen, for example, if the user is texting their own number to test the app.</p>
<pre class="ai-testing"><b>Test the behavior.</b> You'll need a second phone to test this behavior. From the second phone, send a text to the phone that is running the app. You can <a href="../content/google-voice.html">set up one phone with Google Voice</a> or start two emulators to communicate with one another to test this behavior. Does the second phone receive the response text? If that works, try modifying the response message and sending another message from the second phone. Is the new response sent?</pre><h4 class="ai-header">2. Storing the custom response</h4>
<p>The app so far works, but if you close the app and reopen it, the custom message will be lost. To make things more convenient for the user, store the custom response message they enter into a database using the TinyDB component.</p>
<p>TinyDB provides two blocks: StoreValue and GetValue . The former allows you to store a tagged piece of information, while the latter let's you retrieve one.</p>
<p>You'll need the following blocks to store the custom message: </p>
<table><tr style="background-color: #EFEFEF; font-weight: bold;"><td>
Block type
</td>
<td>
Drawer
</td>
<td>
Purpose
</td>
</tr><tr><td><span class="basicblock">SubmitResponseButton.Click</span></td>
<td>SubmitResponseButton</td>
<td>User clicks this button to submit new response message</td>
</tr><tr><td><span class="setblock">ResponseLabel.Text</span></td>
<td>ResponseLabel</td>
<td>Sets the response to be what the user inputs.</td>
</tr><tr><td><span class="argblock">NewResponseTextbox.Text</span></td>
<td>NewResponseTextbox</td>
<td>The response message entered by the user is here</td>
</tr><tr><td><span class="callblock">TinyDB1.StoreValue</span></td>
<td>TinyDB1</td>
<td>Store the custom message in the phone's database</td>
</tr><tr><td><span class="textblock">text</span> ("responseMessage")</td>
<td>Text</td>
<td>Use this as the tag for the data</td>
</tr><tr><td><span class="argblock">ResponseLabel.Text</span></td>
<td>ResponseLabel</td>
<td>The response message entered by the user is displayed here after the user submits their new response.</td>
</tr></table><p>The blocks should look like this:</p>
<p><img src="../sites/all/files/tutorials/NTWD/submitresponse.png" /></p>
<h4 class="ai-header">How the Blocks Work</h4>
<p>When the user clicks the SubmitResponseButton, the app will store the response message entered by the user as the shown text that will be sent. The text in this label (<span class="argblock">ResponseLabel.Text</span>) will be stored in TinyDB. The text <span class="textblock">responseMessage</span> is used as a tag to uniquely identify the information-- later, you'll use that same tag to retrieve the message from the database.</p>
<h4 class="ai-header">3. Retrieving the saved response message</h4>
<p>Program the <span class="basicblock">Screen1.Initialize</span> event-handler so that the saved custom response message is retrieved from the database and placed in ResponseLabel. Check the retrieved data to make sure there's something there-- after all, the first time the app is used, the database will not have any message saved. If there is a stored message, place it in the ResponseLabel so that the user can see it and so that it will be used to respond to incoming texts.</p>
<p>You'll need the following blocks:</p>
<table><tr style="background-color: #EFEFEF; font-weight: bold;"><td>
Block type
</td>
<td>
Drawer
</td>
<td>
Purpose
</td>
</tr><tr><td><span class="setblock">def variable</span> ("response")</td>
<td>Definitions</td>
<td>A temporary variable to hold the retrieved data </td>
</tr><tr><td><span class="textblock">text</span> (blank)</td>
<td>Text</td>
<td>Initial value for the variable can be anything</td>
</tr><tr><td><span class="basicblock">Screen1.Initialize</span></td>
<td>Screen1</td>
<td>This is triggered when app begins</td>
</tr><tr><td><span class="setblock">Texting1.ReceivingEnabled</span></td>
<td>Texting1</td>
<td>Sets the app so that it receives SMS text messages</td>
</tr><tr><td><span class="basicblock">number</span> (3)</td>
<td>Number</td>
<td>The app is initialized to receive text messages while the app is running or when it's not</td>
</tr><tr><td><span class="setblock">CheckBoxGvEnabled.Checked</span></td>
<td>CheckBoxGvEnabled</td>
<td>Sets status of the Google Voice Enabled checkbox</td>
</tr><tr><td><span class="argblock">Texting1.GoogleVoiceEnabled</span></td>
<td>Texting1</td>
<td>If Google Voice is enabled, SMS messages will be sent over Google Voice</td>
</tr><tr><td><span class="controlblock">if else test</span></td>
<td>Control</td>
<td>To ask if texting should be enabled.</td>
</tr><tr><td><span class="basicblock">not= block</span></td>
<td>Math</td>
<td>Check if the retrieved value is not equal to (=) 1</td>
</tr><tr><td><span class="argblock">Texting1.ReceivingEnabled</span></td>
<td>Texting1</td>
<td>Lets the user decide whether or not the app will received SMS messages</td>
</tr><tr><td><span class="setblock">CheckBoxReceivingEnabled.Checked</span>(x2)</td>
<td>CheckBoxReceivingEnabled</td>
<td>Sets status of the Receiving Enabled checkbox.</td>
</tr><tr><td><span class="controlblock">true</span></td>
<td>Logic</td>
<td>Sets the app to receive text messages</td>
</tr><tr><td><span class="controlblock">false</span></td>
<td>Logic</td>
<td>Sets the app to not receive text messages</td>
</tr><tr></tr><tr><td><span class="setblock">set Response</span></td>
<td> Definitions </td>
<td>Sets the variable to the value retrieved from db.</td>
</tr><td><span class="callblock">TinyDB1.GetValue</span></td>
<td>TinyDB1</td>
<td>Get the stored response text from the database</td>

<tr><td><span class="textblock">text</span> ("responseMessage")</td>
<td>Text</td>
<td>Plug into tag slot of GetValue, make sure text is same as was used in StoreValue above</td>
</tr><tr><td><span class="controlblock">if test</span></td>
<td>Control</td>
<td>To ask if the retrieved value has some text</td>
</tr><tr><td><span class="basicblock">&gt; block</span></td>
<td>Math</td>
<td>Check if length of retrieved value is greater than (&gt;) 0</td>
</tr><tr><td><span class="textblock">length test</span></td>
<td>Text</td>
<td>Check if length of retrieved value is greater than 0</td>
</tr><tr><td><span class="argblock">global response</span> (x2)</td>
<td>My Definitions</td>
<td>This variable holds the value retrieved from GetValue</td>
</tr><tr><td><span class="basicblock">number</span> (0)</td>
<td>Math</td>
<td>To compare with length of response</td>
</tr><tr><td><span class="setblock">set ResponseLabel.Text to</span></td>
<td>Message</td>
<td>If we retrieved something, place it in ResponseLabel</td>
</tr></table><p>The blocks should look like this:</p>
<p><img src="../sites/all/files/tutorials/NTWD/initializeblock_update.png" /></p>
<h4 class="ai-header">How the Blocks Work</h4>
<p>When the app begins, the <span class="basicblock">Screen1.Initialize</span> event is triggered. The app calls the <span class="callblock">TinyDB1.GetValue</span> with a tag of <span class="textblock">responseMessage</span>-- the same tag used when you stored the user's entry earlier. The resulting value is placed in the variable <span class="setblock">response</span>. When the app starts, we set the Texting component to have receiving enabled, but not Google Voice, which is displayed on the user interface. <span class="argblock">ReceivingEnabled</span> takes a number value 1 (receiving disabled), 2 (receiving enabled while app is running), or 3 (receiving enabled when app is running and is not running) </p>
<p>The variable response is used so that the value returned from the database can be checked. If it has a length of 0, then there was no database entry with a tag of <span class="textblock">responseMessage</span>-- something that will occur the first time a user runs this app. But if the length is greater than 0, the app knows that a custom response has been stored previously, and the retrieved value can be placed in the ResponseLabel which the user will see and which is used as the message for any response texts sent. </p>
<pre class="ai-testing"><b>Test the app.</b> Enter a new response message in the NewResponseTextbox and click the SubmitResponseButton. Then restart the app by clicking the Restart App button in the Blocks Editor. This will cause the app to re-initialize just like it will when a user closes the app and reopens it later. Does the custom message you entered appear?</pre><h4 class="ai-header">Selecting Response Settings</h4>
<p>The user interface has two checkboxes that the user can toggle: whether Receiving is enabled and whether Google Voice is enabled. The first allows the user to decide whether or not they want to be receiving messages. The second lets the user decide if they want to send messages from their own phone number or from a Google Voice account. When the user toggles these switches, the changes are communicated to the Texting component which enables or disables these properties as marked.</p>
<p>You'll need the following blocks.</p>
<table><tr style="background-color: #EFEFEF; font-weight: bold;"><td>
Block type
</td>
<td>
Drawer
</td>
<td>
Purpose
</td>
</tr><tr><td><span class="basicblock">CheckBoxGvEnabled.Changed</span></td>
<td>CheckBoxGvEnabled</td>
<td>Detects if the user toggles this control.</td>
</tr><tr><td><span class="setblock">Texting1.GoogleVoiceEnabled</span></td>
<td>Texting1</td>
<td>Sets whether or not Google Voice is enabled</td>
</tr><tr></tr><tr><td><span class="argblock">CheckBoxGvEnabled.Checked</span></td>
<td>CheckBoxGvEnabled</td>
<td>Returns true or false value.</td>
</tr><td><span class="basicblock">CheckBoxReceivingEnabled.Changed</span></td>
<td>CheckBoxReceivingEnabled</td>
<td>Detects if the user toggles this control.</td>

<tr><td><span class="controlblock">if else block</span></td>
<td>Control</td>
<td>Checks whether or not receiving is enabled.</td>
</tr><tr><td><span class="basicblock">= block</span></td>
<td>Math</td>
<td>Checks whether or not receiving is enabled.</td>
</tr><tr><td><span class="basicblock">true</span></td>
<td>Logic</td>
<td>Checks whether or not receiving is enabled.</td>
</tr><tr><td><span class="argblock">CheckBoxReceivingEnabled.Checked</span></td>
<td>CheckBoxReceivingEnabled</td>
<td>Returns true or false value.</td>
</tr><tr><td><span class="setblock">Texting1.ReceivingEnabled</span>(x2)</td>
<td>Texting1</td>
<td>Sets whether or not receiving is enabled.</td>
</tr><tr><td><span class="basicblock">number</span>(1)</td>
<td>Math</td>
<td>Sets ReceivingEnabled as false.</td>
</tr><tr><td><span class="basicblock">number</span>(3)</td>
<td>Math</td>
<td>Sets ReceivingEnabled as true.</td>
</tr></table><p>The blocks should look like this:</p>
<p><img src="../sites/all/files/tutorials/NTWD/checkboxblocks_update.png" /></p>
<pre class="ai-testing"><b>Test the app.</b> Try texting your Android device when the "Receiving Enabled" is checked and then when it is not checked. Do you receive texts when it is unchecked? Try texting over Google Voice. If any of these features aren't working like you expect them to, go back and look at the blocks again!</pre><h4 class="ai-header">No Text While Driving, Final Program</h4>
<p><img src="../sites/all/files/tutorials/NTWD/allblocks.png" /></p>
<h4 class="ai-header">Variations</h4>
<p>Once you get the No Text While Driving app working, you might want to explore some variations. For example,</p>
<ul><li>Write a version that speaks the received texts aloud. You'll need to use the <b>TextToSpeech</b> component.</li>
<li>Write a version that lets the user define custom responses for particular phone numbers.</li>
<li>Write a version that sends custom responses based on the user's location (e.g., I'm in church...)</li>
</ul><h4 class="ai-header">Review</h4>
<p>Here are some of the ideas covered in this tutorial: </p>
<ul><li>The <b>Texting</b> component can be used both to send text messages and process the ones that are received.</li>
<li>The <b>TinyDB</b> component is used to store information persistently, in the phone's database, so that it there each time the app is opened.</li>
</ul><h4 class="ai-header">Scan the Sample App to your Phone</h4>
<p>Scan the following barcode onto your phone to install and run the sample app.
</p><p><img src="../sites/all/files/tutorials/NTWD/NTWDBarcode.png" /></p>
<p>Or <a href="../sites/all/files/tutorials/NTWD/NoTextWhileDriving.apk">download the apk</a></p>
<h4 class="ai-header">Download Source Code</h4>
<p>If you'd like to work with this sample in App Inventor, download the <a href="../sites/all/files/tutorials/NTWD/NoTextWhileDriving.zip">source code</a> to your computer, then open App Inventor, go to the My Projects page, and choose <b>More Actions | Upload Source</b>.</p>
<pre class="ai-box">MIT and Google are grateful to <a href="http://www.appinventor.org/">Professor David Wolber</a>, CS Professor at The University of San Francisco, for developing this tutorial.

Done with <span style="color:black;">No Text While Driving</span>? Return to the other tutorials <a href="../tutorials.html">here</a>.</pre></div></div></div><section class="field field-name-field-version field-type-taxonomy-term-reference field-label-above view-mode-full clearfix">

      <h2 class="field-label">Tutorial Version:&nbsp;</h2>
  
  <ul class="field-items">

    
      <li class="field-item even">
        <a href="../tutorial-version/app-inventor-1.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">App Inventor 1</a>      </li>

    
  </ul>

</section>
<section class="field field-name-field-tutorial-difficulty field-type-taxonomy-term-reference field-label-above view-mode-full clearfix">

      <h2 class="field-label">Tutorial Difficulty:&nbsp;</h2>
  
  <ul class="field-items">

    
      <li class="field-item even">
        <a href="../tutorial-difficulty/advanced.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">Advanced</a>      </li>

    
  </ul>

</section>
<section class="field field-name-field-tutorial-type field-type-taxonomy-term-reference field-label-above view-mode-full clearfix">

      <h2 class="field-label">Tutorial Type:&nbsp;</h2>
  
  <ul class="field-items">

    
      <li class="field-item even">
        <a href="../tutorial-type/data-storage.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">Data Storage</a>      </li>

    
      <li class="field-item odd">
        <a href="../tutorial-type/sms-texting.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">SMS Texting</a>      </li>

    
  </ul>

</section>
  </div>

  
  
</article>
    </div>
  </div>
</div>
  </div>
</div>

        
      </section>

      
    </div></div>

          <div class="region region-sidebar-second sidebar">
    <div id="block-block-16" class="block block-block block-odd block-count-3 block-region-sidebar-second">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <a href="http://appinventor.mit.edu/explore/"><img alt="MIT App Inventor" title="MIT App Inventor" src="../sites/all/files/explore_images/appinventor_logo_sm.png" /></a><img alt="Center for Mobile Learning" title="Center for Mobile Learning" src="../sites/all/files/explore_images/cml_logo_sm.png" id="cml_logo_back"/>    </div>
  </div>
</div>
<div id="block-block-1" class="block block-block block-even block-count-4 block-region-sidebar-second">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <p align="center"><a href="http://beta.appinventor.mit.edu/"><img src="../sites/all/files/inventButton.png" alt="Use MIT App Inventor" width="77%" onmouseover="this.src='http://explore.appinventor.mit.edu/sites/all/files/inventButton2.png'" onmouseout="this.src='http://explore.appinventor.mit.edu/sites/all/files/inventButton.png'" /></a></p>
<p align="center"> All you need to get started with MIT App Inventor is a Google account to log in.</p>
    </div>
  </div>
</div>
<div id="block-block-7" class="block block-block block-odd block-count-5 block-region-sidebar-second">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <!-- Place this tag where you want the search box to render -->
<gcse:searchbox-only queryParameterName="term"></gcse:searchbox-only>    </div>
  </div>
</div>
  </div>
    
  </div></div>

      <footer role="contentinfo">
              <div class="region region-footer">
    <div id="block-block-3" class="block block-block block-odd block-count-6 block-region-footer">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <p style="text-align: center;"><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a> <br />
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a></p>
<p style="text-align: center;">© 2012-2013 <a href="http://web.mit.edu/">Massachusetts Institute of Technology</a></p>
<p style="text-align: center;"><a href="../contact.html">Contact Us</a></p>
    </div>
  </div>
</div>
  </div>
    </footer>
  
</div>

  </body>

<!-- Mirrored from explore.appinventor.mit.edu/node/319 by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 22 Nov 2013 14:21:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>
