<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" version="XHTML+RDFa 1.0" dir="ltr"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:dc="http://purl.org/dc/terms/"
  xmlns:foaf="http://xmlns.com/foaf/0.1/"
  xmlns:og="http://ogp.me/ns#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:sioc="http://rdfs.org/sioc/ns#"
  xmlns:sioct="http://rdfs.org/sioc/types#"
  xmlns:skos="http://www.w3.org/2004/02/skos/core#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#">

<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta charset="utf-8" />
<link rel="shortcut icon" href="../sites/explore.appinventor.mit.edu/files/AI2-Favicon_1.ico" type="image/vnd.microsoft.icon" />
<meta content="Exploring with Location Sensor in AI2" about="/ai2/location-sensor" property="dc:title" />
<link rel="canonical" href="location-sensor.html" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="shortlink" href="../node/498.html" />
  <title>Exploring with Location Sensor in AI2 | Explore MIT App Inventor</title>
  <style>@import url("../modules/system/system.basea961.css?nab1hq");
@import url("../modules/system/system.menusa961.css?nab1hq");
@import url("../modules/system/system.messagesa961.css?nab1hq");
@import url("../modules/system/system.themea961.css?nab1hq");</style>
<style>@import url("../misc/ui/jquery.ui.corea961.css?nab1hq");
@import url("../misc/ui/jquery.ui.themea961.css?nab1hq");
@import url("../misc/ui/jquery.ui.accordiona961.css?nab1hq");</style>
<style>@import url("../sites/all/modules/date/date_api/datea961.css?nab1hq");
@import url("../sites/all/modules/date/date_repeat_field/date_repeat_fielda961.css?nab1hq");
@import url("../modules/field/theme/fielda961.css?nab1hq");
@import url("../modules/node/nodea961.css?nab1hq");
@import url("../modules/search/searcha961.css?nab1hq");
@import url("../modules/user/usera961.css?nab1hq");
@import url("../sites/all/modules/extlink/extlinka961.css?nab1hq");
@import url("../sites/all/modules/views/css/viewsa961.css?nab1hq");</style>
<style>@import url("../sites/all/modules/ctools/css/ctoolsa961.css?nab1hq");
@import url("../sites/all/modules/lightbox2/css/lightboxa961.css?nab1hq");
@import url("../sites/all/modules/panels/css/panelsa961.css?nab1hq");
@import url("../sites/all/libraries/superfish/css/superfisha961.css?nab1hq");</style>
<style>@import url("../sites/all/themes/adaptivetheme/adaptivetheme/css/at.basea961.css?nab1hq");
@import url("../sites/all/themes/adaptivetheme/adaptivetheme/css/at.layouta961.css?nab1hq");
@import url("../sites/all/themes/adaptivetheme/adaptivetheme/css/at.messagesa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/html-elementsa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/formsa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/tablesa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/pagea961.css?nab1hq");
@import url("../sites/all/themes/sky/css/articlesa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/commentsa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/fieldsa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/blocksa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/navigationa961.css?nab1hq");
@import url("../sites/all/themes/newexploretheme/color/colorsa961.css?nab1hq");
@import url("../sites/all/themes/sky/css/sky.settings.stylea961.css?nab1hq");
@import url("../sites/all/themes/newexploretheme/css/NewExplorethemea961.css?nab1hq");
@import url("../sites/all/themes/newexploretheme/video-js/video-jsa961.css?nab1hq");
@import url("../sites/all/themes/appinventor/assets/css/reseta961.css?nab1hq");
@import url("../sites/all/themes/appinventor/assets/css/typographya961.css?nab1hq");
@import url("../sites/all/themes/appinventor/assets/css/layouta961.css?nab1hq");
@import url("../sites/all/themes/appinventor/assets/css/drupala961.css?nab1hq");</style>
<style media="print">@import url("../sites/all/themes/sky/css/printa961.css?nab1hq");</style>
<link type="text/css" rel="stylesheet" href="../sites/all/themes/sky/css/sky.responsive.stylea961.css?nab1hq" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/all/themes/sky/css/sky.responsive.gpanelsa961.css?nab1hq" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/all/themes/appinventor/css/appinventor.responsive.stylea961.css?nab1hq" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/all/themes/appinventor/css/modtheme.responsive.gpanelsa961.css?nab1hq" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/explore.appinventor.mit.edu/files/at_css/appinventor.responsive.layouta961.css?nab1hq" media="all" />

<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="http://explore.appinventor.mit.edu/sites/explore.appinventor.mit.edu/files/at_css/appinventor.lt-ie9.layout.css?nab1hq" media="all" />
<![endif]-->
  <script src="../misc/jquery1cc4.js?v=1.4.4"></script>
<script src="../misc/jquery.once7839.js?v=1.2"></script>
<script src="../misc/drupala961.js?nab1hq"></script>
<script src="../misc/ui/jquery.ui.core.mina7b0.js?v=1.8.7"></script>
<script src="../misc/ui/jquery.ui.widget.mina7b0.js?v=1.8.7"></script>
<script src="../misc/ui/jquery.effects.core.mina7b0.js?v=1.8.7"></script>
<script src="../misc/ui/jquery.ui.accordion.mina7b0.js?v=1.8.7"></script>
<script src="../sites/all/modules/extlink/extlinka961.js?nab1hq"></script>
<script src="../sites/all/modules/lightbox2/js/lightboxa961.js?nab1hq"></script>
<script src="../sites/all/modules/google_analytics/googleanalyticsa961.js?nab1hq"></script>
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","http://www.google-analytics.com/analytics.js","ga");ga("create", "UA-31803258-1", "auto");ga("send", "pageview");</script>
<script src="../sites/all/themes/appinventor/assets/jsImgSlider/js-image-slidera961.js?nab1hq"></script>
<script src="../sites/all/libraries/superfish/jquery.hoverIntent.minifieda961.js?nab1hq"></script>
<script src="../sites/all/libraries/superfish/sfsmallscreena961.js?nab1hq"></script>
<script src="../sites/all/libraries/superfish/superfisha961.js?nab1hq"></script>
<script src="../sites/all/libraries/superfish/supersubsa961.js?nab1hq"></script>
<script src="../sites/all/modules/superfish/superfisha961.js?nab1hq"></script>
<script src="../sites/all/themes/sky/js/scriptsa961.js?nab1hq"></script>
<script src="../sites/all/themes/newexploretheme/video-js/videoa961.js?nab1hq"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"appinventor","theme_token":"4NYN8wFd5CyVqN2iEtB7u2YFnS76LT_mrfEjG9wkTRo","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"misc\/ui\/jquery.ui.core.min.js":1,"misc\/ui\/jquery.ui.widget.min.js":1,"misc\/ui\/jquery.effects.core.min.js":1,"misc\/ui\/jquery.ui.accordion.min.js":1,"sites\/all\/modules\/extlink\/extlink.js":1,"sites\/all\/modules\/lightbox2\/js\/lightbox.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"\/sites\/all\/themes\/appinventor\/assets\/jsImgSlider\/js-image-slider.js":1,"sites\/all\/libraries\/superfish\/jquery.hoverIntent.minified.js":1,"sites\/all\/libraries\/superfish\/sfsmallscreen.js":1,"sites\/all\/libraries\/superfish\/superfish.js":1,"sites\/all\/libraries\/superfish\/supersubs.js":1,"sites\/all\/modules\/superfish\/superfish.js":1,"sites\/all\/themes\/sky\/js\/scripts.js":1,"sites\/all\/themes\/newexploretheme\/video-js\/video.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"misc\/ui\/jquery.ui.core.css":1,"misc\/ui\/jquery.ui.theme.css":1,"misc\/ui\/jquery.ui.accordion.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_repeat_field\/date_repeat_field.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/extlink\/extlink.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/lightbox2\/css\/lightbox.css":1,"sites\/all\/modules\/panels\/css\/panels.css":1,"sites\/all\/libraries\/superfish\/css\/superfish.css":1,"sites\/all\/themes\/adaptivetheme\/adaptivetheme\/css\/at.base.css":1,"sites\/all\/themes\/adaptivetheme\/adaptivetheme\/css\/at.layout.css":1,"sites\/all\/themes\/adaptivetheme\/adaptivetheme\/css\/at.messages.css":1,"sites\/all\/themes\/sky\/css\/html-elements.css":1,"sites\/all\/themes\/sky\/css\/forms.css":1,"sites\/all\/themes\/sky\/css\/tables.css":1,"sites\/all\/themes\/sky\/css\/page.css":1,"sites\/all\/themes\/sky\/css\/articles.css":1,"sites\/all\/themes\/sky\/css\/comments.css":1,"sites\/all\/themes\/sky\/css\/fields.css":1,"sites\/all\/themes\/sky\/css\/blocks.css":1,"sites\/all\/themes\/sky\/css\/navigation.css":1,"sites\/all\/themes\/newexploretheme\/color\/colors.css":1,"sites\/all\/themes\/sky\/css\/sky.settings.style.css":1,"sites\/all\/themes\/newexploretheme\/css\/NewExploretheme.css":1,"sites\/all\/themes\/newexploretheme\/video-js\/video-js.css":1,"sites\/all\/themes\/appinventor\/assets\/css\/reset.css":1,"sites\/all\/themes\/appinventor\/assets\/css\/typography.css":1,"sites\/all\/themes\/appinventor\/assets\/css\/layout.css":1,"sites\/all\/themes\/appinventor\/assets\/css\/drupal.css":1,"sites\/all\/themes\/sky\/css\/print.css":1,"sites\/all\/themes\/sky\/css\/sky.responsive.style.css":1,"sites\/all\/themes\/sky\/css\/sky.responsive.gpanels.css":1,"sites\/all\/themes\/appinventor\/css\/appinventor.responsive.style.css":1,"sites\/all\/themes\/appinventor\/css\/modtheme.responsive.gpanels.css":1,"public:\/\/at_css\/appinventor.responsive.layout.css":1,"public:\/\/at_css\/appinventor.lt-ie9.layout.css":1}},"lightbox2":{"rtl":"0","file_path":"\/(\\w\\w\/)public:\/","default_image":"\/sites\/all\/modules\/lightbox2\/images\/brokenimage.jpg","border_size":10,"font_color":"000","box_color":"fff","top_position":"","overlay_opacity":"0.8","overlay_color":"000","disable_close_click":0,"resize_sequence":0,"resize_speed":400,"fade_in_speed":400,"slide_down_speed":600,"use_alt_layout":0,"disable_resize":0,"disable_zoom":0,"force_show_nav":0,"show_caption":1,"loop_items":0,"node_link_text":"View Image Details","node_link_target":0,"image_count":"Image !current of !total","video_count":"Video !current of !total","page_count":"Page !current of !total","lite_press_x_close":"press \u003Ca href=\u0022#\u0022 onclick=\u0022hideLightbox(); return FALSE;\u0022\u003E\u003Ckbd\u003Ex\u003C\/kbd\u003E\u003C\/a\u003E to close","download_link_text":"","enable_login":false,"enable_contact":false,"keys_close":"c x 27","keys_previous":"p 37","keys_next":"n 39","keys_zoom":"z","keys_play_pause":"32","display_image_size":"original","image_node_sizes":"()","trigger_lightbox_classes":"","trigger_lightbox_group_classes":"","trigger_slideshow_classes":"","trigger_lightframe_classes":"","trigger_lightframe_group_classes":"","custom_class_handler":0,"custom_trigger_classes":"","disable_for_gallery_lists":true,"disable_for_acidfree_gallery_lists":true,"enable_acidfree_videos":true,"slideshow_interval":5000,"slideshow_automatic_start":true,"slideshow_automatic_exit":true,"show_play_pause":true,"pause_on_next_click":false,"pause_on_previous_click":true,"loop_slides":false,"iframe_width":600,"iframe_height":400,"iframe_border":1,"enable_video":0},"extlink":{"extTarget":"_blank","extClass":0,"extLabel":"(link is external)","extImgClass":0,"extSubdomains":1,"extExclude":"","extInclude":"","extCssExclude":"","extCssExplicit":"","extAlert":0,"extAlertText":"This link will take you to an external web site. We are not responsible for their content.","mailtoClass":"mailto","mailtoLabel":"(link sends e-mail)"},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip"},"superfish":{"1":{"id":"1","sf":{"animation":{"opacity":"show"},"speed":"\u0027fast\u0027","autoArrows":false,"dropShadows":false,"disableHI":false},"plugins":{"smallscreen":{"mode":"window_width","addSelected":false,"menuClasses":false,"hyperlinkClasses":false,"title":"Simple_Nav"},"supposition":false,"bgiframe":false,"supersubs":{"minWidth":"12","maxWidth":"27","extraWidth":1}}}}});</script>
</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-498 page-type-tutorial lang-en site-name-explore-mit-app-inventor section-ai2 color-scheme-default appinventor gecko win fs-medium bs-n bb-n mb-dd rc-0 rct-8 ia-r bf-l snf-a ssf-a ptf-a ntf-a ctf-a btf-a" >
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page" class="container">

  
  <header class="clearfix" role="banner">

  <div id="top_bar">
   <div id="branding">
      <!--        <hgroup>
                      <h1 id="site-name"><a href="/" title="Home page">Explore MIT App Inventor</a></h1>
                            </hgroup>
      -->
              <div id="logo"><a href="../index-2.html" title="Home page"><img src="../sites/all/themes/appinventor/logo.png" alt="Explore MIT App Inventor logo"/></a></div>
          
    </div>
      <div id="menu-bar" class="nav clearfix">
      <nav id="block-superfish-1" class="block block-superfish block-odd block-count-1 block-region-menu-bar menu-wrapper clearfix" role="navigation">
              <h2 class="block-title element-invisible element-invisible">Simple_Nav</h2>
            <ul id="superfish-1" class="menu sf-menu sf-menu-simple-nav sf-horizontal sf-style-none sf-total-items-3 sf-parent-items-3 sf-single-items-0"><li id="menu-4230-1" class="first odd sf-item-1 sf-depth-1 sf-list-anchors sf-total-children-2 sf-parent-children-0 sf-single-children-2 menuparent"><a href="../about-us.html" title="" class="sf-depth-1 menuparent">About Us ▾</a><ul><li id="menu-4231-1" class="first odd sf-item-1 sf-depth-2 sf-list-anchors sf-no-children"><a href="../about-us.html" title="" class="sf-depth-2">About Us  </a></li><li id="menu-4234-1" class="last even sf-item-2 sf-depth-2 sf-list-anchors sf-no-children"><a href="../our-team.html" title="" class="sf-depth-2">Our Team</a></li></ul></li><li id="menu-2893-1" class="middle even sf-item-2 sf-depth-1 sf-list-anchors sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../news-events.html" title="" class="sf-depth-1 menuparent">Blog ▾</a><ul><li id="menu-3040-1" class="first odd sf-item-1 sf-depth-2 sf-list-anchors sf-no-children"><a href="../news-events.html" title="" class="sf-depth-2">News &amp; Events</a></li><li id="menu-3039-1" class="middle even sf-item-2 sf-depth-2 sf-list-anchors sf-no-children"><a href="../stories.html" title="" class="sf-depth-2">App Inventor in Action</a></li><li id="menu-4429-1" class="middle odd sf-item-3 sf-depth-2 sf-list-anchors sf-no-children"><a href="../team-blog.html" title="" class="sf-depth-2">Team Blog</a></li><li id="menu-4074-1" class="last even sf-item-4 sf-depth-2 sf-list-anchors sf-no-children"><a href="../app-of-the-month-gallery.html" title="Gallery of current and past MIT App Inventor App of the Month winners" class="sf-depth-2">App of the Month</a></li></ul></li><li id="menu-2894-1" class="last odd sf-item-3 sf-depth-1 sf-list-anchors sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href="../library.html" title="" class="sf-depth-1 menuparent">Support ▾</a><ul><li id="menu-3041-1" class="first odd sf-item-1 sf-depth-2 sf-list-anchors sf-no-children"><a href="../get-started.html" title="" class="sf-depth-2">Get Started</a></li><li id="menu-3783-1" class="middle even sf-item-2 sf-depth-2 sf-list-anchors sf-no-children"><a href="../teach.html" title="" class="sf-depth-2">Teach</a></li><li id="menu-3104-1" class="middle odd sf-item-3 sf-depth-2 sf-list-anchors sf-no-children"><a href="../library.html" title="" class="sf-depth-2">Library</a></li><li id="menu-3036-1" class="middle even sf-item-4 sf-depth-2 sf-list-anchors sf-no-children"><a href="tutorials.html" title="Tutorials to learn about using MIT App Inventor" class="sf-depth-2">Tutorials</a></li><li id="menu-3174-1" class="middle odd sf-item-5 sf-depth-2 sf-list-anchors sf-no-children"><a href="../support.html" title="Information about App Inventor version 1" class="sf-depth-2">AI Classic (v1)</a></li><li id="menu-3038-1" class="middle even sf-item-6 sf-depth-2 sf-list-anchors sf-no-children"><a href="../resources.html" title="" class="sf-depth-2">Resources</a></li><li id="menu-3037-1" class="middle odd sf-item-7 sf-depth-2 sf-list-anchors sf-no-children"><a href="https://groups.google.com/forum/#!forum/mitappinventortest" title="" class="sf-depth-2">Forums</a></li><li id="menu-3105-1" class="last even sf-item-8 sf-depth-2 sf-list-anchors sf-no-children"><a href="support/troubleshooting.html" title="" class="sf-depth-2">Troubleshooting</a></li></ul></li></ul>  </nav>
  </div>
      <div class="region region-create">
    <section id="block-block-21" class="block block-block block-odd block-count-2 block-region-create">
  <div class="block-inner clearfix">
              <h2 class="block-title">Create Button</h2>
            <div class="block-content content">
      <p><a href="http://ai2.appinventor.mit.edu/" target="new"><button>Create</button></a></p>
    </div>
  </div>
</section>
  </div>
    </div>
      <div class="region region-header">
    <section id="block-block-23" class="block block-block block-odd block-count-3 block-region-header">
  <div class="block-inner clearfix">
              <h2 class="block-title">Social Icons</h2>
            <div class="block-content content">
      <p style="color:white;float:left;margin: 10px 5px;">
Follow Us:</p>
<p style="float:left;margin: 5px 10px;"><a href="https://www.facebook.com/MITAppInventor"><img src="../sites/all/themes/appinventor/assets/images/flatSocialMediaIcons/facebook.png" style="width:25px;" /></a>    <a href="https://twitter.com/mitappinventor"><img src="../sites/all/themes/appinventor/assets/images/flatSocialMediaIcons/twitter.png" style="width:25px;" /></a>    <a href="http://www.youtube.com/user/appinventor"><img src="../sites/all/themes/appinventor/assets/images/flatSocialMediaIcons/youtube.png" style="width:25px;" /></a> <a href="https://plus.google.com/communities/109900432278954380687"><img src="../sites/all/themes/appinventor/assets/images/flatSocialMediaIcons/google%2b.png" style="width:25px;" /></a> <a href="https://groups.google.com/forum/#!forum/mitappinventortest"><img src="../sites/all/themes/appinventor/assets/images/flatSocialMediaIcons/googlegroups.png" style="width:25px;" /></a></p>
    </div>
  </div>
</section>
<div id="block-block-7" class="block block-block block-even block-count-4 block-region-header">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <script>
  (function() {
    var cx = '005719495929270354943:tlvxrelje-e';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchbox-only></gcse:searchbox-only>

    </div>
  </div>
</div>
  </div>
    

  </header>
  <div id="featured-block">
    </div>
  <div id="columns"class="no-menu-bar"><div class="columns-inner clearfix">
            
    
    <div id="content-column"><div class="content-inner">

      
            <section id="main-content" role="main">

                        
        
        <div id="content">  <div class="region region-content">
    <div id="block-system-main" class="block block-system block-odd block-count-5 block-region-content">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <article id="article-498" class="article article-type-tutorial article-lang-en odd article-full clearfix" about="/ai2/location-sensor" typeof="sioc:Item foaf:Document" role="article">

  
        <header class="clearfix">

      
              <h1 property="dc:title" datatype="" class="article-title">
                      Exploring with Location Sensor in AI2                  </h1>
      
      
    </header>
    
  <div class="article-content">
  <div class="field field-name-body field-type-text-with-summary field-label-hidden view-mode-full"><div class="field-items"><div class="field-item even" property="content:encoded"><p style="margin-bottom: 0in;"><font size="2">The AI2 LocationSensor is a simple control that is difficult to use without knowledge of some basic concepts of geo-location. The location sensor object is used to communicate with the global positioning satellite receiver (GPS) in your phone/tablet.  When the LocationSensor communicates with the built-in GPS receiver,  the GPS can determine the location of your device.  The sensor can also work with network/wifi location services.  Finding a location using the network uses very different techniques to determine a location than used with a GPS. Location means, the device's present latitude and longitude or it can mean your street address. The measuring units employed in the location object for distance are meters  and decimal latitude/longitude for those measurements.  Time is measured in milliseconds (ms).  </font><font size="2">Be aware that one second = 1000 ms. and 60000 ms is one minute.  <br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">When the sensor reports distance information or you set a distance into the object, the units need to be meters. The control only understands meters. If your app must deal in English units, use the Math blocks to convert units at the time you display them.  Convert to <span style="text-decoration: underline;"></span> feet or use more/different math blocks and convert to miles.  Calculate <span style="text-decoration: underline;">everything in meters,</span> report the result in feet or miles on your display.  </font><font size="2">You do not have to do the units conversion everywhere since you should be doing all the calculations necessary in your apps using meters.  Think meters!</font></p>
<p style="margin-bottom: 0in;"><img src="../sites/all/files/ai2tutorials/locationsensor/Nauticalmile.png" alt="" /></p>
<p style="margin-bottom: 0in;"><font size="2">A nautical mile is the distance subtended by a minute of angle (1/60 of a degree) across the Earth's radius.  What this means for you as a programmer is that the distance between a</font><font size="2"> degree of latitude  and the next whole degree </font><font size="2">is sixty nautical miles</font><font size="2">.  A degree of longitude is sixty nautical miles at the equator, but the separation between adjacent whole degrees of longitude diminishes as you change latitude toward the poles.  The spacings between degrees of Latitude are constant, the spacing between degrees of Longitude are variable.  The sensor reports location in decimal degrees latitude and degrees longitude.  Consider,  0.00001 of a degree of latitude is 0.006 of a nautical mile, or 3 feet, 7+3/4 inches. I mentioned  here developers should think in terms of meters, but a long time ago, navigators described their ship's position with respect to the  English units of degrees, minutes and seconds.  Latitude and Longitude are still described in terms of degrees, minutes and seconds.  These are awkward units for use on a computer, so developers and others commonly use decimal Latitude and Longitude descriptions.  Doing that makes the math in calculations relatively easy.  The metric way of looking at </font><font size="2">  0.00001 of a degree of latitude </font><font size="2">is that it converts  to 0.9144 meters. The measurement tells us, satellite positional information can be reported is to a precision of 0.9 meters.  The satellites report positional data using five decimal place precision.  Does this mean that when a GPS gets a fix on multiple satellites that the smallest distance resolved should be 0.9144 meters?  No.  For other reasons, the best accuracy possible with specialized GPS receivers is on the order of  three  meters.  There are techniques that can make the resolution better. The satellites report latitude and longitude </font><font size="2"> to five decimal places,</font><font size="2">.  Your phone/tablet, GPS latitude or longitude is only accurate to four decimal places and its accuracy is worse on occasion as explained later.  </font><font size="2">As you develop apps with this tool., be aware t</font><font size="2">he GPS in your device can do a lot, but its accuracy is limited in many situations. </font></p>
<p style="margin-bottom: 0in;"><font size="2">You will do your best job of developing apps using the LocationSensor if you understand how a GPS system works.  Geo-location principals and a description of the LocationSensor Properties, Events and Methods are described near the end of the tutorial.<br /></font></p>
<p style="margin-bottom: 0in;"><big><big><big><font size="2"><big><big><big><b><span style="font-style: italic;">GPS Accuracy Logger </span><small><small>A </small></small></b></big></big></big></font></big></big></big><big><font size="2"><big><b>Simple GPS App</b></big></font></big></p>
<p style="margin-bottom: 0in;"><font size="2"><i>GPS Accuracy Log</i></font><font size="2"> is an app </font><font size="2"> that demonstrates the use of a device's Global Positioning Satellite (GPS) receiver. The app also demonstrates how the accuracy of a device's GPS varies depending on where the device is located. What the LocationSensor control does is instructe the GPS receiver in a phone/tablet to get a </font><font size="2"><span style="font-weight: normal;">satellite fix (find a satellite, determine the information from the satellite is valid, find at least two more satellites to confirm the information, and only then report the information back to your device).  Some GPS can  use from between 12 and 20 satellites to get a very accurate fix,  providing the GPS receiver is capable of receiving 12 or 20 channels of data.  Many simple devices will only use a few satellites.<br /></span></font></p>
<p style="margin-bottom: 0in;"><font size="2"> </font><font size="2">Shown below is an image of the screen of a 7-inch tablet and  images of the AI2 blocks required to program the app. </font><font size="2"> The example app captures latitude/longitude positional data and provides a numerical estimate of the reliability of the GPS' satellite fix (Accuracy).  Small Accuracy values indicate better accuracy.  The app reports what the GPS resolves as latitude and longitude and demonstrates how the device accuracy might vary as the GPS updates its satellite fixes,  the device is moved from outside to in a building or loses a fix on the satellites it uses to determine location.  Note the change in the accuracy readings captured over a short period of time (eight minutes).  This </font><font size="2"> device was stationary on a desk inside a building  when it captured the readings and there is significant variation in the ability of the device to provide accurate location information.  </font><font size="2"> Satellites continually move around the Earth,.  The GPS in the device looses accuracy as the number of satellites it can receive decreases. The accuracy of the fixes normally increases as the GPS can receive more satellites. AI2 can  report the accuracy of any fix provided the GPS receiver on the device has the capability of reporting <span style="font-weight: bold;">Accuracy</span> (one of the many properties of the LocationSensor described later).  The GPS is designed to use as much information and from as many satellites as possible to provide the best possible accuracy at any instant in time.  Later is a discussion of why accuracy matters, what causes it to fluctuate and what a developer can do to minimize the impact on the users of the app by avoiding the reporting of 'suspicious' location data.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">Before starting to build this app, note that you </font><font color="#ff3366"><font size="2"><b>must test this app using WIFI or USB on a device having real GPS capabilities</b></font></font><font size="2">. You can create the app's blocks and screen design while connected to an emulator as long as you are aware the emulator does not have the ability to determine location information. If you do program on the emulator, you will want to disable the Clock blocks while transcribing the block code.  Also note, the device you experiment with MUST have a built-in GPS receiver.  Later  is a simple discussion of what can be done to provide location information by connecting to a network or through WIFI.  Phones/tablets without a GPS receiver can provide location data (although it is less precise) and although how is mentioned here, will be the topic of a future tutorial.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2"> AI2 does not have the tools to interpret all the information available in  the data stream broadcase  from the satellites.  What a satellite "knows" is reported in </font><font size="2">the NEMA format transmitted from satellites and received by a GPS.   </font><font size="2">NMEA 0183 is a standard for communicating with marine electronic devices and is a common method for receiving data from a GPS.</font> <font size="2">The NEMA data stream is a compilation of lots of data transmitted from a satellite in text format.  Other programming systems  have the tools to determine the number, position, signal strength of the received satellite signals and other properties based on that data stream.  A</font><font size="2">n AI2 app can not presently mine all the data available from a GPS satellite, but that is not usually necessary. </font><font size="2">  Despite the limitations of the AI2 control,  AI2 provides the basic functions needed to use a GPS receiver in your device. <br /></font></p>
<p style="margin-bottom: 0in; text-align: center;"><img src="../sites/all/files/ai2tutorials/locationsensor/GPS_Accuracy_Logger.png" alt="" /></p>
<p style="margin-bottom: 0in;"><font size="2">The </font><font size="2"><i>GPS Accuracy Logger</i></font><font size="2"> app requires just a few blocks and controls. The heavy lifting is done in the <span style="font-weight: bold;">LocationSensor</span> control itself.    U</font><font size="2">se a <span style="font-weight: bold;">LocationSensor1</span>, a <span style="font-weight: bold;">Clock1</span>, <span style="font-weight: bold;">Button1</span>, and seven labels (1 through 7)  </font><font size="2">on the <span style="font-weight: bold;">Design</span> screen to display the GPS information the app will acquire.  </font><font size="2">The screen display uses a single <span style="font-weight: bold;">Horizontal Layout</span> control ; the layout should contain the <span style="font-weight: bold;">Label8</span>, <span style="font-weight: bold;">Label3</span> and <span style="font-weight: bold;">Label4</span> objects   <span style="font-weight: bold;">Button1</span> (shown above with the caption <span style="font-weight: bold;">GPS Accuracy Log</span> in a running app image)   controls the updating of Accuracy.  The button is intended to be 'hidden' unless you include some optional code (see the aia source code later).  The button is for your use.   In the aia  source code, the button is </font><font size="2"><b>hidden</b></font><font size="2">.  Enable the button to </font><font size="2"><b>showing</b></font><font size="2"> from the </font><font size="2"><b>Design</b></font><font size="2"> screen if you decide its simple function is useful.<br /></font></p>
<p style="margin-bottom: 0in;"><big><font size="2"><big>An explanation of the parts:</big></font></big></p>
<p style="margin-bottom: 0in;"><font size="2">The </font><font size="2"><b>Design</b></font><font size="2"> screen below shows a suggested placement of the controls.  Placement is not critical.<span style="font-weight: bold;"> Label3</span> is the control in the middle of the <span style="font-weight: bold;">HorizontalArrangement1</span> shown below (Label3's text indicates "accuracy" on the screen.  When shown on the screen of a running app,  the label reports the Accuracy values in a red or black font. <span style="font-weight: bold;"> Label8</span> has the text "Accuracy Now:" text ; <span style="font-weight: bold;">Label4 </span>has the text  "+/- meters."  The text in<span style="font-weight: bold;"> Label8</span> and <span style="font-weight: bold;">Label4</span> never change.<br /></font></p>
<p style="margin-bottom: 0in; text-align: center;"><img src="../sites/all/files/ai2tutorials/locationsensor/GPSAccuracy5.png" alt="" /></p>
<p style="margin-bottom: 0in;"></p>
<p style="margin-bottom: 0in;"><font size="2">The </font><font size="2"><i>GPS Accuracy Logger</i></font><font size="2"> app sets some device default values for the location sensor when the opening screen initializes.  The  </font><font size="2"><b>Screen1.Initialize</b></font><font size="2">  block contains the code.  <span style="font-weight: bold;">Set LocationSensosr1.Enabled to true </span>allows the control to talk to the GPS receiver. The </font><font size="2"><b>set Clock1.TimerEnabled</b></font><font size="2"> object enables a timer used to poll the <span style="font-weight: bold;">LocationSensor</span>'s properties. The timer polls every second and checks to find out if the</font><font size="2"><span style="font-weight: normal;"> reported accuracy has changed since the last poll. Subsequent controls put some text  information into the labels on the </span></font><font size="2"><b>Design</b></font><font size="2"> screen. The <span style="font-weight: bold;">set Label6.TextColor to</span> (the blue block) changes the color of the label  to blue so it can be easily seen .  This label is the header for a simple screen table of information the app generates.  The last block hides the text that was temporarily assigned to  <span style="font-weight: bold;">Label7 </span>in the <span style="font-weight: bold;">Design </span>screen.  ( </font><font size="2"><b>set Label7.Text to</b></font><font size="2"><span style="font-weight: normal;"> no value</span></font><font size="2">)</font><font size="2">.</font></p>
<p style="margin-bottom: 0in;"><font size="2">Initialize a global variable to temporarily store the device's accuracy advice; name the global variable </font><font size="2"><b>LP_accuracy</b></font><font size="2">  (short for ListPicker  Accuracy).</font><img src="../sites/all/files/ai2tutorials/locationsensor/GPSAccuracy1.png" alt="" /></p>
<p style="margin-bottom: 0in;"><font size="2">Now the fun stuff.   The </font><font size="2"><b>LocationSensor1.LocationChanged</b></font><font size="2"> block tells your app what it thinks your device's present latitude and longitude are in decimal degrees after the GPS confirms a fix. and the location has changed.  The two blocks of code report the GPS location information in the two labels.  <span style="font-weight: bold; font-style: italic;">Hover</span> over the <span style="font-weight: bold;">LocationSensor1.LocationChanged</span> orange block <span style="font-weight: bold;">latitude</span> and <span style="font-weight: bold;">longitude</span> variables with your PC mouse to capture the </font><font size="2"><b>get latitude</b></font><font size="2"> and </font><font size="2"><b>get longitude</b></font><font size="2"> blocks that feed the information into the labels.  The latitude and longitude are 'local' variables, therefore you can only use them within this block.</font></p>
<p style="margin-bottom: 0in;"><img src="../sites/all/files/ai2tutorials/locationsensor/LocationSensorTutorialVersion2_html_4049c123.png" alt="" /></p>
<p style="margin-bottom: 0in;"><font size="2">The </font><font size="2"><b>Button1.Clicked </b></font><font size="2">block is a block that will report on the accuracy of a current satellite fix whenever it is touched. Accuracy is a determination of the reliability of the location information at the time of the fix.   The block is not  necessary  to the app since the <span style="font-weight: bold;">Clock1</span>  object is used to set defaults and request information from the GPS on a regular basis.<span style="font-weight: bold;">  Button1</span> is shown and provided as a convenience. If you download the <span style="font-weight: bold;">aia</span> source you will notice  the block is  'hidden' . The blocks within the <span style="font-weight: bold;">Button1</span> event handler replicate part of the code in the </font><font size="2"><b>Clock1.Timer</b></font><font size="2"> block, the block that changes the color of the GPS accuracy in meters from a black font ( when the sensor reports accuracy &lt;= 10 meters) to a red font when the value exceeds 10 meters.  Change the 10 meter value to whatever you like.  Keep in mind the cautions mentioned later in the tutorial regarding using distance triggers less that 10 to 20 meters. The logic block compares the </font><font size="2"><b>LocationSensor1.Accuracy</b></font><font size="2"> block value with the value you decide is the cut-off for reporting that reliable satellite fix data is available.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2"><span style="font-weight: normal;">The </span></font><font size="2"><b>Clock1.Timer</b></font><font size="2"><span style="font-weight: normal;"> block (along with the </span></font><font size="2"><b>LocationSensor1.LocationChanged</b></font><font size="2"><span style="font-weight: normal;"> block) are the core blocks of the app</span></font><font size="2">.  These blocks are placed directly in the timer block if you follow the tutorial instructions.  However, developers may want to put these blocks in a <span style="font-weight: bold;">procedure</span> block instead. Call the procedure </font><font size="2"><b>DoThisStuff</b></font><font size="2">, and place a </font><font size="2"><b>call DoThisStuff</b></font><font size="2"> block in the </font><font size="2"><b>Clock.Timer</b></font><font size="2"> block instead of the individual blocks.  While this tutorial is about the sensor, I want you to be aware there are many ways of doing the basic programming.  Using a procedure makes the example slightly more complicated.  Why a procedure?  Consider, in addition to using the </font><font size="2"><b>Clock1.Timer</b></font><font size="2"> block for this code, you as a developer could put the blocks into a button.click event handler along with a request to force an satellite fix block of code to update fixes on demand.  If the necessary blocks are in a procedure, you could call <span style="font-weight: bold;">DoThisStuff</span>.  Adding an additional button with appropriate blocks will provide a “manual” control to update the request for a satellite fix reliability more frequently.  The extra button is for you to design.<br /></font></p>
<p style="margin-bottom: 0in;"><img src="../sites/all/files/ai2tutorials/locationsensor/LocationSensorTutorialVersion2_html_7c0a9611.png" alt="" /></p>
<p style="margin-bottom: 0in;"><font size="2"><big>What is all the stuff in the <span style="font-weight: bold;">Clock1.Timer</span> block? </big><br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">You are already familiar with some of the blocks.  They are a duplication of the optional blocks used in </font><font size="2"><b>Button1</b></font><font size="2">.  The purpose of the code in the <span style="font-weight: bold;">Label3</span> blocks was explained above. The code in the </font><font size="2"><b>Control</b></font><font size="2"> blocks is new. The first<span style="font-weight: bold;"> If</span>  block tests to see if the Accuracy is better than 10 meters (checking if a distance value is less than 10 allows filters the data to display the "better" in a black font and forces higher values to display in a red font indicating an issue with the reported location reliability).  The second <span style="font-weight: bold;">If</span> block compares the present accuracy with the accuracy determined during a previous check.  If the two accuracy readings are the same, the block does nothing, however if there is a different value, the app understands the accuracy has been updated and reports a new line in the data list.  The list enumerates</font><font size="2"> the latest  accuracy, latitude and longitude. This “list” is displayed at the bottom of the app's screen.  One line appears approximately each minute.  The app can do this type of text display in a label because the <span style="font-weight: bold;">\n</span> symbol is used to force each data set (consisting of time, accuracy, latitude, longitude) onto individual lines. Although you code a single Label, the result on the screen is multiple lines displaying  the time of the observation and three pieces of satellite data, ordered with the most recent information at the top of the display. <br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">When does the location sensor 'know' when to check for a satellite fix?  </font><font size="2">There are two ways to trigger a satellite fix, one is using the <span style="font-weight: bold;">TimeInterval</span> property of the sensor.  A second is to use the <span style="font-weight: bold;">DistanceInterval</span> object<b>  </b></font><font size="2">The value coded in the <span style="font-weight: bold;">LocationSensor1.TimeInterval</span> property determines the frequency of satellite fix attempts.   The control will update at a frequency determined by the value assigned to this property.  </font><font size="2">But, a <span style="font-weight: bold;">TimeInterval</span> block is not included in  the code blocks shown above.  Why?  T</font><font size="2">he default value of the </font><font size="2"><b>LocationSensor1.TimeInterval</b></font><font size="2">  is already set to once a minute.  This refresh interval is acceptable in this app. I avoided using a <span style="font-weight: bold;">set </span></font><font size="2"><b>LocationSensor1.TimeInterval</b></font><font size="2"> block but could have also placed the block in the <span style="font-weight: bold;">Screen1.Initialize</span> block.  Where you set the value is up to you, the developer.  The </font><font size="2"><b>LocationSensor</b></font><font size="2"> triggers once a minute approximately.   Stated another way, the </font><font size="2"><b>LocationSensor1.TimeInterval</b></font><font size="2"> contains the time interval at which the GPS will check for a fix, baring execution of recognition of a distance traverse greater than what is currently set in </font><font size="2"><b>LocationSensor1.DistanceInterval object.  </b><b> </b></font><font size="2"><span style="font-weight: normal;"><br /></span></font></p>
<p style="margin-bottom: 0in;"><font size="2"><span style="font-weight: normal;">The <span style="font-weight: bold;">DistanceInterval</span> setting is this app is left at its default setting of 0. Distance change is not used as a  trigger  in this app.  A possible use of  the <span style="font-weight: bold;">DistanceInterval</span> property is demonstrated in the   </span></font><font size="2"><i>Location Sensor Test </i></font><font size="2"><span style="font-weight: normal;">  app example discussed later.</span></font><font size="2">  <br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">Beware, the time interval units are in ms (described earlier). As a developer, you can set the 'refresh' value to anything you want. Some settings may be very undesirable. How often and which tools to use are up to you, the developer, so make sure you are familiar with the detailed description of  below of how the control works.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">Finally, a method to poll the <span style="font-weight: bold;">Accuracy</span> property is needed in the app.  The <span style="font-weight: bold;">Clock1</span> is used to poll</font><font size="2"> the current </font><font size="2"><b>LocationSensor1.Accuracy</b></font><font size="2"> to establish  if the GPS has determined a different accuracy determination is available since the last check was made. </font><font size="2">  The app takes advantage that the </font><font size="2"><b>Clock1.Timer</b></font><font size="2">block fires once a second as designed and without any intervention by the programmer.  Polling the Accuracy once a second is reasonable so the app uses the default clock time interval</font><font size="2"> setting. The timing value for a report on the Accuracy can be set to other values on the </font><font size="2"><b>Design</b></font><font size="2"> screen or from within the app by changing </font><font size="2"><b>Clock1.TimerInterval</b></font><font size="2"> to whatever whole number value you require in ms.  Do not confuse this polling clock that checks on changes in the </font><font size="2"><b>Accuracy</b></font><font size="2"> value with the </font><font size="2"><b>LocationSensor1.TimeInterval.  The LocationSensor1.TimeInterval </b></font><font size="2"><span style="font-weight: normal;">determines how often the GPS attempts a satellite fix (find a satellite, determine the information from the satellite is valid, and only then report the information back to your deice).   Later, you will learn, your GPS has to have that information from a minimum of three satellites to provide the GPS receiver with information that is useful; not enough data, no fix  When there is insufficient data available to the GPS and the GPS appears to be "thinking," you probably will notice a small icon flashing at the top of your phone or tablet.  Whenever you see that icon, the GPS is attempting a satellite fix.<br /></span></font></p>
<p style="margin-bottom: 0in;"><font size="2"><big style="font-weight: bold;">House keeping</big>:    What is the </font><font size="2"><b>|n</b></font><font size="2"> for?   This symbol (consisting of a backslash and the character n) forces a line change in a label.  Placing the symbol in a text block helps to make the reporting display 'pretty' when the <span style="font-weight: bold;">Label7 </span>is updated and posted on the device screen. <br /></font></p>
<p style="margin-bottom: 0in;"><font size="2"><big><span style="font-weight: bold;">Testing</span>:</big>    Beware, you </font><font color="#ff3366"><font size="2"><b>must test this app using WIFI on a device having real GPS capabilities</b></font></font><font size="2">.  You can program the app's blocks connected to an emulator as long as you are aware the emulator does not have the ability to determine location information.</font></p>
<p style="margin-bottom: 0in;"><font size="2">It gets worse.  Heed the cautions on the app.  Not all phones/tablets have a GPS receiver and not all of those have the ability to use the </font><font size="2"><b>Accuracy</b></font><font size="2"> control.  There is more.  On some devices, the ability to use <span style="font-weight: bold;">Location Services</span>, whether GPS or Network/WIFI may be turned off.  </font><font size="2"><i>GPS Accuracy Logger</i></font><font size="2"> does not check these conditions. If either location service is turned off on the device you are testing with, you will have issues.  Go to your device's </font><font size="2"><b>Settings</b></font><font size="2">.  There should be something like </font><font size="2"><b>Location services</b></font><font size="2">.  Make sure the boxes for permission to </font><font size="2"><b>Use GPS satellites</b></font><font size="2">  and </font><font size="2"><b>Use wireless networks</b></font><font size="2"> are checked.  If you only want GPS, do not check the <span style="font-weight: bold;">Use wireless networks</span> box unless you want the World to know where you are.  The settings you make here give permissions for ALL your apps.</font></p>
<p style="margin-bottom: 0in;"><big><big><big><font size="2"><big><big><big><b>AI2 <span style="font-style: italic;">Location Sensor Test</span> App</b></big></big></big></font></big></big></big></p>
<p><font size="2">You will NOT find the blocks here  for an app that demonstrates  most of the capabilities of an AI2 Location sensor (</font><font size="2"><i>Location Sensor Test </i></font><font size="2"><span style="font-style: normal;">)</span></font><font size="2">.  There are lots of blocks, more than I want to copy.   Attached is an aia file so you can explore the code.  The two images below show a working </font><font size="2"><i>Location Sensor Test  </i></font><font size="2">app on a Tablet.  By now, you are an expert at using the basic properties of the sensor.  I hope that the absence of an explanation for the block logic in this Sensor Test App is not a hindrance.  I assume you read through the entire tutorial (including the explanations following the fun stuff), tried your own location sensor experiments and can follow the programming logic.  When in doubt, read the section below that describes the behavior of the various control properties, methods and events.</font></p>
<p><span style="overflow:auto"><img src="../sites/all/files/ai2tutorials/locationsensor/Screenshot_2014-03-14-12-37-22.png" style="float:left;width:250px;height:400px;" /><img src="../sites/all/files/ai2tutorials/locationsensor/Screenshot_2014-03-14-12-37-48.png" style="float:left;width:250px;height:400px;" /><br /><font size="2">The image to the left shows the sensor test tool in action but prior to touching the <span style="font-weight: bold;">Capabilities</span> button.  Touch the button and the screen should look  like the image on the right.  The app confirms the tablet's GPS has all the required capabilities.<br /></font></span></p>
<p style="margin-bottom: 0in;"><font size="2"><i>GPS Accuracy Logger</i></font><font size="2"> does all of the following:</font></p>
<p><br /></p><ul><li>
<p style="margin-bottom: 0in;"><font size="2">Checks whether the 	Latitude/Longitude, Altitude and Accuracy capabilities exist on the 	device being tested.  Use the <span style="font-weight: bold;">Capabilities</span> button.  Not all devices have all these capabilities.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">Reports the Accuracy of each GPS satellite fix in +/- meters.  The number describes a circle with the reported radius.  Your GPS 'knows' it is somewhere within this circle. (see explanation below).<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Announces the 	<span style="font-weight: bold;">LocationSensor.TimerIinterval</span>.   The tool reports the current setting and allows you to change it.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Announces the available service providers. On a WIFI tablet, you possibly only get 'gps';  on a phone, there will be more options if the phone has a real GPS.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Shows the currently 	selected service provider.  You can change between gps and network by touching the <span style="font-weight: bold;">Toggle Provider </span>button.  Yes, it switches between gps and network only in this app.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Reports the Altitude, but only if the device GPS has the capability.  Do not expect the Altitude to change when you walk from street level to the third floor of a building.  The measurement is not that accurate.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Reports the current 	address, if one a location address is available.</font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Lets one know if the device has moved more then the Distance selected.  Read the caveats in the sections below.   You can change Distance to any value in meters you like.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Allows one to set both the Distance and Time intervals.   Distance is probably set as 0 for most devices as a default; Time to 60000 ms   (one minute).   The defaults might be different on some devices.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Can toggle providers.  Toggle means switch between the two hard coded providers in this app.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Can provide a data log of Accuracy and Latitude and Longitude over a period of time.  You check the Log Data box.  When checked the app will provide a data stream reporting time , Accuracy, Latitude and Longitude.  You may have to scroll down the screen.<br /></font></p>
</li>
<li>
<p style="margin-bottom: 0in;"><font size="2">Reports whether the 	GPS has a fix or not and whether location information is network 	based.  Read about fix below.<br /></font></p>
</li>
</ul><p><font size="2">I am not certain the data settings for time and distance provided to the device GPS  by </font><font size="2"><i>Location Sensor Test </i></font><font size="2"> are persistent after the app closes. If you change the time and distance settings in your app, does the device GPS return automatically to its default settings after an app has closed? A  "Close the app and reset Location Distance to 0 and reset the location timer” button is part of the app.  It ensures the GPS is reset if necessary.  Use the button on the app to return the GPS's settings to its default status and close the app.<br /></font>     </p>
<p style="margin-bottom: 0in;"><font size="2">Things to do:   a) make the app screen  look pretty, b) add a vibrate or sound alarm, for the Distance  c) display the accuracy in a reliability circle, d) check that  the app really works for you.  (Use the </font><font size="2"><b>Canvas</b></font><font size="2"> object to draw the reliability display circle).</font></p>
<p> <br /></p>
<p style="margin-bottom: 0in; font-weight: bold;"><big><big><big><font size="2"><big><big><big>How a Phone / Tablet “Knows” its Location</big></big></big></font></big></big></big></p>
<p style="margin-bottom: 0in;"><font size="2">How is a phone or tablet able to "know" where it is at?    Understanding how GPS and Wireless Networks work is necessary to understand the location sensor control. Both GPS and Wireless networks provide positional information in different ways.  The <span style="font-weight: bold;">LocationSensor</span> control can obtain information using either system but the developer of an app has to explain to the sensor with his/her blocks how to do it.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">Anything you want to know about GPS and how GPS receivers works is summarized here:  </font><font color="#000080"><span lang="zxx" xml:lang="zxx"><u><a href="http://en.wikipedia.org/wiki/Global_Positioning_System"><font size="2">http://en.wikipedia.org/wiki/Global_Positioning_System</font></a></u></span></font><font size="2">  .  Wikipedia is not always the most accurate source, but in this instance Wikipedia provides a pretty good introduction to geolocation concepts. The article is part of your "home work" assignment.</font></p>
<p style="margin-bottom: 0in;"><font size="2">The GPS satellites broadcast two types of data called Almanac and Ephemeris.  Almanac data includes the satellite orbital parameters.  It is precise data and is valid for several months.  Ephemeris data includes orbital and clock correction data for each satellite which is necessary for precise positioning.  When the GPS is initially turned on, the receiver "looks" for the satellites based on where a satellite is supposed to be and as described in the Almanac and corrected for current time. The GPS determines if the Almanac data is valid; if the Almanac is not valid, possibly if the GPS receiver has been turned off for a while, the GPS searches the sky or is internally re-initialized so it can download a new Almanac from a satellite and start over.  This is why a fix may take a longer time when a device is turned on (watch the blinking GPS indicator on your device) and why subsequent fixes are made more rapidly. <br /></font></p>
<p style="margin-bottom: 0in;"><font size="2"></font><font size="2">A GPS receiver needs a clear view of the sky to get ephemeris / almanac data from the satellites. It uses this data to determine location. It needs measurements from a minimum of three satellites to provide positional information. GPS receivers generally have the capability of using from 12 up to 20 satellites to provide accurate information. In practice, most GPS use fewer then 9 or 10 satellites to provide a location fix. A limited number of satellites might be visible to the GPS, some satellites are out of service, objects are between the GPS and satellite and shadow and reduce the satellite's broadcast signal strength, and the number of channels the GPS can receive and other factors determine how many satellites are used by the GPS in a fix.</font> <br /></p>
<p style="margin-bottom: 0in; text-align: center;"><img src="../sites/all/files/ai2tutorials/locationsensor/LocationSensorTutorialVersion2_html_feca342.png" alt="" /></p>
<p style="margin-bottom: 0in;"><font size="2">Wireless Networks use triangulation to determine the location of a device.  The location information is obtained more rapidly than the data obtained from a GPS fix .  A GPS fix can take from a few seconds to a minute or so with single channel GPS receivers.  A network fix is very fast.  However the data provided by Wireless Networks is less reliable than most GPS fix's. Ordinarily network geo-location is not as precise as the information provided by a GPS.  Mobile phones get the cell tower IDs from the nearest three or four cell towers in the vicinity.  The technology uses the time difference of arrival to get your “exact” location within 10-50 meters of accuracy with 10-15 seconds. This method is called MS-Assist for GSM phones.  A fall back method is called Cell ID.  Cell ID is a passive guess of about 1.7 to 8 km (1-5 miles ) in accuracy  and is possibly used if MS-Assist doesn't report sufficient certainty to get a position fix less than 100 meters (the minimum performance threshold for MS-Assist). </font> </p>
<p style="margin-bottom: 0in;"><font size="2">A GPS is used to get an accurate snap-shot of the device location while moving or stationary.  Wireless Networks can be used for stationary positions in the absence of a GPS receiver.  The information  provided in the tutorial regarding these location system details is continually in flux.   Use your search engine to learn the details and stay informed about technology advances.</font></p>
<p style="margin-bottom: 0in;"><font size="2">It is up to the app programmer to choose which location method is used by their app or to provide a means of selecting between location providers.  Read about providers below.  The usual choices of provider are: </font><font size="2"><b>gps</b></font><font size="2"> or </font><font size="2"><b>network</b></font><font size="2">.</font></p>
<p style="margin-bottom: 0in;"><br /></p>
<p style="margin-bottom: 0in;"><big><big><big><font size="2"><big><big><big><b>What Developers need to know to Program using the  AI2 LocationSensor Object</b></big></big></big></font></big></big></big></p>
<p style="margin-bottom: 0in;"><font size="2">Developers have lots of things to  consider  before even starting to use  the Location sensor in AI2.  To make a successful geolocation based app, the developer has to know how things work and the limitations that exist because of quality of device included GPS receivers, how the GPS satellite system works and what can be done to overcome the obstacles.</font></p>
<p style="margin-bottom: 0in;"><font size="2">1) The sensitivity of the GPS receivers in different devices varies. Some devices are more sensitive to whether the phone/tablet is in a building, under trees or is traveling in canyon like environments (i.e. in the mountains, between sky scrapers or merely tall buildings). Buildings obscure the line of sight from the GPS to the positional satellites.  Weak signals at the GPS result in reduced accuracy or loss of fix.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">2) A GPS receiver's accuracy is dependent on the number of satellites it can get a fix on (receive and confirm) at any moment.  Consequently, accuracy of location reported by the device can vary easily by plus or minus 50 meters or so over a very short period of time.  GPS accuracy is also dependent on the quality of the GPS in your device.  Real GPS devices, not tablets/phones, can be accurate to within less than 2 meters.  Your phone probably has no where near that capability, but it might. Most GPS have 12 parallel channels.  The channels help to acquire satellite signals.  Some GPS have only a single channel, meaning the receiver is slower in acquiring a fix and may not have the accuracy of a receiver with multiple channels. Newer phones have receivers that have 20 channels and  A-GPS and GLONASS (GLONASS is the Russian version of GPS) which can operate together.</font></p>
<p style="margin-bottom: 0in;"><font size="2">3) Experience with the GPS receiver in a </font><font size="2"><i>Galaxy Tab 2</i></font><font size="2"> 7" tablet demonstrates the </font><font size="2"><b>LocationSensor.DistanceInterval</b></font><font size="2"> can trigger an unexpected change of location response when set to 100 meters. The GPS may signal a distance change even when the tablet is at rest. Not often,  it happens. A 100 m setting for this trigger tool is reasonable but setting the <span style="font-weight: bold;">DistanceInterval</span> to that value does not guarantee the device moved 100 meters when the sensor triggers. This is an issue occurring because the ability of the GPS to accurately resolve a location is in a constant state of flux.  An early device trigger  response can be prevented by providing logic blocks to only trigger when the GPS accuracy is within norms you program.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">4) When the GPS accuracy is reported by</font><font size="2"><b>LocationSensor.Accuracy</b></font><font size="2"><span style="font-weight: normal;"> to be</span></font><font size="2"> 32 meters for example, it means that if a </font><font size="2"><b>LocationSensor DistanceInterval</b></font><font size="2"> is set to anything less than 32 meters, the GPS will attempt a new fix (change) as if the distance is set to 0 meters.   The GPS units in low end phones especially are not very precise and some phones have no GPS at all.</font></p>
<p style="margin-bottom: 0in;"><font size="2">5) To understand how your device's accuracy (positional reliability) changes, set the <span style="font-weight: bold;">DistanceInterval</span> to zero and monitor the changes in accuracy of your GPS in the comprehensive app described above. </font><font size="2">The </font><font size="2"><i>GPS Accuracy Logger</i></font><font size="2"> </font><font size="2"> coding project described above monitors changes in GPS accuracy with time. </font><font size="2">The demo AI2 </font><font size="2"><i>Location Sensor Test</i></font><font size="2">  collects data from your device.  Not all phones/tablets provide all this data.  Many phones may not have the altitude data, for instance. </font></p>
<p style="margin-bottom: 0in;"><font size="2">6) Read the MIT App Inventor's team description of the location sensor here  </font><font size="2">  <a href="http://appinventor.mit.edu/explore/content/sensors.html">http://appinventor.mit.edu/explore/content/sensors.html</a></font><font size="2">     An annotated version of the description describing the tool in more detail follows int the next section.<a href="http://appinventor.mit.edu/explore/content/sensors.html"></a></font></p>
<p style="margin-bottom: 0in;"><font size="2">In review, the GPS receiver in most phones is not precisely accurate.  The positional information it provides may be only  +/- 50 meters on average, perhaps as good as +/-5 meters on occasion. The GPS receivers in phones are not very sensitive.  The built-in GPS lose signals in buildings and are difficult in an urban environment.  Not all phones or tablets have a GPS.  Those phones that do not have a GPS receiver have a much reduced positional accuracy compared to those phones that have a GPS.  </font><font size="2">Alternatives to a GPS location app are not as accurate as the information based on the GPS.  Devices without a GPS receiver probably can use triangulation between cell phone towers and/or a wifi location to approximate the phone's location. </font><font size="2">The devices without a GPS can still be used  to determine location, after a fashion.<br /></font></p>
<p style="margin-bottom: 0in;"><font size="2">There is an option in the location sensor to determine proximity to a destination.  My experiments indicate this feature is not very accurate when set to small distance changes.  About +/- 50 meters reliability might be possible on a regular basis using the </font><font size="2"><b>LocationSensor.Distance</b></font><font size="2"> control.  The issue is, the GPS in phones is not very accurate. Usually, the GPS 'fires' based on time but you can also allow the location sensor to 'fire' based on a distance moved.  I can see an application mixing the two methods.  The location will trigger a GPS  fix based on time but it will also attempt to trigger based on movement since the last fix.  A ten meter sampling of a location does not seem practical. because a phone GPS might only be able to resolve +/- 50 meters.  See for yourself.  Use the </font><font size="2"><b>LocationSensor1.Accuracy</b></font><font size="2"> block   and sample the accuracy reading every minute and see what you get?   The </font><font size="2"><i>GPS Accuracy Logger</i></font><font size="2"> does this so the code is available in this tutorial.<br /></font></p>
<p style="margin-bottom: 0in;"><big><big><big><font size="2"><big><big><big><b>What are the Capabilities of the AI2 LocationSensor?</b></big></big></big></font></big></big></big></p>
<p style="margin-bottom: 0in;"><font size="2">The following describes what the location sensors in AI2 can (and cannot) do:   </font> </p>
<p style="margin-bottom: 0in;"><font size="2">Some functions the sensors can control are not available on all devices.  If a function the <span style="font-weight: bold;">LocationSensor</span> has available does not seem to work on an app you build, the Android version on your device may not have the capability or the device might not have the capability you poll in its GPS.  The app  </font><font size="2"><i>Location Sensor Test</i></font><font size="2">   can help you find out what capabilities are exist on your phone/tablet.   A link to the </font><font size="2"><i>Location Sensor Test</i></font><font size="2">    </font><font size="2"> </font><font size="2"><b>aia</b></font><font size="2"> source is at the end of the tutorial.</font></p>
<p style="margin-bottom: 0in;"> <font size="2">The following is an annotated description of the AI2 <span style="font-weight: bold;">LocationSensor</span> as described on the MIT web page. Annotations are in<span style="font-style: italic;"> italics</span>.  The public Android methods that are the basis for the AI2 control are described  in Java at this link: </font><font color="#000080"><span lang="zxx" xml:lang="zxx"><u><a href="http://developer.android.com/reference/android/location/Location.html"><font size="2"><span style="font-style: normal;">http://developer.android.com/reference/android/location/Location.html</span></font></a></u></span></font><font size="2"><span style="font-style: normal;">  .  AI2 provides most of these services.  It does not have a  <span style="font-weight: bold;">distanceBetween</span> method, which would have been nice. You as a developer can provide those functions by doing the calculations yourself. Google "haversine" for a method of calculating short point-to-point distances between locations. I  re-wrote the algorithm in block code in AI2 and will post in a future tutorial. If you do use Haversine's, be aware the distance calculation method is <span style="text-decoration: underline;">not</span> valid for determining long distances; like D.C. to London but are valid for smaller distances, especially on the order of several kilometers or miles.  Vincenty's method is among the best algorithms to calculate a Great Circle Path and is most accurate for any distance calculation.  Using Vincenty's algorithm will require LOTS of blocks.<br /></span></font></p>
<p style="margin-bottom: 0in; margin-left: 200px; text-align: center;"><big><big><big><big><font size="2"><big><big><big><big><i>Location Sensor</i></big></big></big></big></font></big></big></big></big></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2">This component provides the Android device's location, using GPS if available and an alternative method otherwise, such as cellular towers or known wireless networks.</font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>LocationSensor</b></font><font size="2"> is a non-visible component providing location information, including longitude, latitude, altitude (if supported by the device), and address. This component can also provide geocoding, converting a given address (not necessarily the current one) to a latitude (with the </font><font size="2"><b>LatitudeFromAddress</b></font><font size="2"> method) and a longitude (with the </font><font size="2"><b>LongitudeFromAddress</b></font><font size="2"> method).</font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2">In order to function, the component must have its </font><font size="2"><b>Enabled</b></font><font size="2"> property set to true, and the device must have location sensing enabled through either GPS satellites (if the device is outdoors) or an alternative method.   </font><font size="2"><i>Many devices can utilize their GPS indoors.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i><b>Properties</b></i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>Accuracy</b><br /> Indicates Android device accuracy level, in meters.  </font><font size="2"><i>AI2 has no control to tell you how many satellites are being used in a fix or how strong the received signals are at the GPS. Instead, AI2 use other information from the satellite data stream to establish a reliability circle, a distance circle with a radius of the indicated accuracy.  It only reports the radius of that circle as described below. Your device may be in the center of the circle, you may be on the edge of the reliability circle or in the center. Accuracy demonstrates the quality of the satellite fix by reporting plus/minus x meters accuracy at any moment. </i></font><font size="2"><i><b>Lower values are better</b></i></font><font size="2"><i>.</i></font></p>
<p style="margin-left: 200px;"><font size="2"><i>The Android Developer Reference defines accuracy as “the radius of 68% confidence."  If you draw a circle centered at this location's latitude and longitude, and with a radius equal to the accuracy, then there is a 68% probability that the true location is inside the circle. In statistical terms, it is assumed that location errors are random with a normal distribution, so the 68% confidence circle represents one standard deviation. In practice, location errors do not always follow such a simple distribution. This accuracy estimation is only for horizontal accuracy, and does not indicate the accuracy of altitude if those are reported.  If this location does not have an accuracy, then 0.0 is returned.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>Altitude</b><br /> Altitude of the Android device, if available.  </font><font size="2"><i>The units is meters.  The altitude is the altitude above the WGS84 reference ellipsoid, not the elevation above mean sea level.  Altitude from a GPS is terribly inaccurate, even for expensive GPS receivers. Read about altitude determination here: <a href="http://gpsinformation.net/main/altitude.htm">http://gpsinformation.net/main/altitude.htm</a>.  Altitude is very unreliable on most GPS receivers, not only those embedded in phones and tablets. Altitude reported on a phone/tablet can easily be off by +/- 30 </i></font><font size="2"><i><b>meters</b></i></font><font size="2"><i> or more!</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>AvailableProviders</b><br /> List of available service providers, such as gps or network.  </font><font size="2"><i>This information is provided as a list and in text form.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>CurrentAddress</b><br /> Physical street address of the Android device.  </font><font size="2"><i>The address reported may not always be of the house where the device is or the address might not always be available from the provider available.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>DistanceInterval</b><br /> Determines the minimum distance interval, in meters, that the sensor will try to use for sending out location updates. For example, if this is set to 5, then the sensor will fire a </font><font size="2"><b>LocationChanged</b></font><font size="2"> event only after 5 meters have been traversed. However, the sensor does not guarantee that an update will be received at exactly the distance interval. It may take more than 5 meters to fire an event, for instance.</font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i>When you </i></font><font size="2"><i><b>set  LocationSensor1.DistanceInterval to</b></i></font><font size="2"><i> ..   If you can live with some imprecision and you require the sensor change based on traveled distance from point to point, this the way to go to measure distance traveled in a simple way.  I caution that entering small values as suggested in the control's description such as 5 meter results in issues because the accuracy (and consequently the inaccuracy) of the GPS changes as the receiver's view of the sky changes from clear to obscured by buildings, mountains etc.  Using distances triggers smaller than the the largest accuracy  circle normally reported by the device (easily &gt; 50 meters in some situations) is not recommended.   Use 150, 500 meters, 1 km (entered as 1000 meters) etc. and you might get some reliable triggering using this property of the sensor.   Be aware the </i></font><font size="2"><i><b>LocationSensor1.Timer</b></i></font><font size="2"><i> might trigger before the distance interval is reached or exceeded and triggered.   As a developer, you can overcome the accuracy limitation by only performing calculations or causing actions to occur when the accuracy of the device reports values below a certain threshold.  This concept where you only report information or acting information when accuracy is at reasonable values  for your device is demonstrated in both of the AI2 apps described below.  Your users can be told when the GPS fix is not reliable.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2">I</font><font size="2"><i>n practice, to get an accurate fix (a fix that meets your requirements),  toggle </i></font><font size="2"><i><b>LocationSensor.Enabled </b></i></font><font size="2"><i>= Off and </i></font><font size="2"><i><b>LocationSensor.Enabled</b></i></font><font size="2"><i> = On.  In the blocks, you use false for off and true for on.   Then within an<span style="font-weight: bold;"> if ..else if </span> control structure, determine if  </i></font><font size="2"><i><b>LocationSensor.Accuracy</b></i></font><font size="2"><i> &lt; 5 or &lt; 20 meters etc. If your device is moving, the accuracy of your device is constantly changing because of buildings, trees etc. intervening between your device's GPS receiver and sufficient satellites to get the most accurate fix. The GPS requires a minimum of 4 or 5 seconds to acquire a fix and might take longer.  If you lose a fix, your reliable data will be sevral seconds out of date. If you are stationary, and not using a GPS, your location is constant, as far as the device is concerned when using a network connection., however, because of Accuracy (described above) may actually show a change in location. How much variance  in accuracy you experience depends on the sensitivity of your GPS and the number of satellite channels it can receive in addition to whether the device has an unobstructed view of the sky.  </i></font> </p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>Enabled</b><br /> If set, location information is available.   </font><font size="2"><i>This property effectively turns on your GPS location connection reporting.  Toggling the property does not necessarily turn the GPS on or off, apparently it just establishes a connection.   You may have to turn on the GPS manually in your device before your app is run on the phone or tablet.  On is Boolean true; off Boolean false.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>HasAccuracy</b><br /> If true, Android device can report its accuracy level.  </font><font size="2"><i>This property is reported as a Boolean value; i.e. true or false (use the Logic blocks).  All the setting does is query the device to establish if a device has this capability when used in an </i></font><font size="2"><i><b>if then</b></i></font><font size="2"><i> control block.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>HasAltitude</b><br /> If true, Android device can report its altitude.  </font><font size="2"><i>This is reported as a Boolean value; i.e. true or false (use the Logic blocks).  All it does is query the device to establish if a device has this capability when used in an <span style="font-weight: bold;">if then</span> block.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>HasLongitudeLatitude</b><br /> If true, Android device can report longitude and latitude.  </font><font size="2"><i>This is reported as a Boolean value; i.e. true or false (use the Logic blocks).  Another way to look at this is does this device support a GPS. All it does is query the device to establish if a device has this capability when used in an <span style="font-weight: bold;">if then</span> block.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>Latitude</b><br /> Android device latitude.  </font><font size="2"><i>Latitude is reported in decimal degrees; for example  33.01560 degrees. Notice the latitude is reported to five decimal places. </i></font><font size="2"><i>Latitude is reported as a decimal number between <span style="font-weight: bold;">-90 to 90</span>  (the South to the North Pole).  Conventionally, Northern latitudes are positive, Southern are negative values. When you know both the latitude and longitude for a given address, you can post that location to a map or calculate its distance from another known object.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><img src="../sites/all/files/ai2tutorials/locationsensor/Primemeridian.jpg" alt="" /></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>Longitude</b><br /> Android device longitude.  </font><font size="2"><i>Longitude is reported in decimal degrees; for example  -103.01567 degrees. Notice, the longitude is reported to five decimal places. </i></font><font size="2"><i>Longitude is reported as a decimal number between<span style="font-weight: bold;"> -180 to 0 to 180</span> where negative values are the regions West of the prime meridian (0 degrees  longitude) to those regions to the East. When you know both the latitude and longitude for a given address, you can post that location to a map or calculate the location's distance from another known object.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>ProviderLocked</b><br /> The device will not change the service provider.  </font><font size="2"><i>It is possible for providers to switch when the current provider is unable to provide adequate location fixes for circumstances.  This is a Boolean switch; true/false. True, to prevent providers from changing.<br /></i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>ProviderName</b></font><br /><font size="2"> The current service provider.  </font><font size="2"><i>The provider will most likely be either GPS or network.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>TimeInterval</b><br /> Determines the minimum time interval, in milliseconds, that the sensor will try to use for sending out location updates. However, location updates will only be received when the location of the phone actually changes, and use of the specified time interval is not guaranteed. For example, if 1000 is used as the time interval, location updates will never be fired sooner than 1000ms, but they may be fired anytime after.  </font><font size="2"><i>The default on the GPS receiver in a Galaxy Tab II tablet is 60000 ms (every minute).  I do not know whether one minute is a standard setting for other devices or not. Consider the more frequent an update, the more rapidly the device’s battery will run down.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i>Sensor data can change at a high rate, which means the system may </i></font><font size="2"><i>call the </i></font><font size="2"><i><b>LocationSensor.Changed </b></i></font><font size="2"><i>method quite often. As a best practice, you should do as little as possible within the </i></font><font size="2"><i><b>LocationSensor.Changed</b></i></font><font size="2"><i> method so you don't block it. If your application requires you to do any data filtering or reduction of sensor data, you should perform that work outside of the </i></font><font size="2"><i><b>LocationSensor.Changed </b></i></font><font size="2"><i>method. </i></font> </p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i><b>Events</b></i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>LocationChanged</b></font><font size="2">(number latitude, number longitude, number altitude)<br /> Called when the Android device reports a new location.  </font><font size="2"><i>This event is the most important part of the control when using a GPS.  Latitude, longitude and altitude are all local variables.   Hover your mouse over one of them to capture either a </i></font><font size="2"><i><b>get latitude</b></i></font><font size="2"><i> or </i></font><font size="2"><i><b>set latitude to</b></i></font><font size="2"><i> block or a <span style="font-weight: bold;">get longitude</span> or <span style="font-weight: bold;">set longitude to</span> block or a <span style="font-weight: bold;">get altitude</span> or <span style="font-weight: bold;">set altitude to</span> block as required.  Be aware, the altitude value is notoriously inaccurate as compared to the latitude / longitude.  This value can easily be off a lot.  Why?   A lot of geometry information is being processed, the earth is not a sphere (it is a geoid) which makes this determination difficult.  The values appear order of magnitude reasonable for values greater than a hundred meters.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i>Best practice is to always verify that a sensor exists on a device before you attempt to acquire data from it. Do not assume  a sensor exists simply because it is a frequently-used sensor. Device manufacturers are not required to provide any particular sensors in their devices. </i></font> </p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i>See also </i></font><font size="2"><i><b>TimeInterval</b></i></font><font size="2"><i>.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>StatusChanged</b></font><font size="2">(text provider, text status)<br /> Called when the status of the service provider changes.  </font><font size="2"><i>I do not have a phone so I have not tested how this event could be used.  Code like this should be possible in the </i></font><font size="2"><i><b>StatusChanged</b></i></font><font size="2"><i> block: </i></font> </p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i>If provider = gps and status = TEMPORARILY_UNAVAILABLE  then<br /> LocationSensor1.Enabled = False<br /> LocationSensor1.Enabled = True</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><i><b>Methods</b></i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>number LatitudeFromAddress</b></font><font size="2">(text locationName)<br /> Determines the latitude of the given address.  </font><font size="2"><i>Latitude is reported as a decimal number between <span style="font-weight: bold;">-90 to 90</span>  (the South to the North Pole).  Conventionally, Northern latitudes are positive, Southern are negative values. When you know both the latitude and longitude for a given address, you can post that location to a map or calculate its distance from another known object.</i></font></p>
<p style="margin-bottom: 0in; margin-left: 200px;"><font size="2"><b>number LongitudeFromAddress</b></font><font size="2">(text locationName)<br /> Determines the longitude of the given address.  </font><font size="2"><i>Longitude is reported as a decimal number between<span style="font-weight: bold;"> -180 to 0 to 180</span> where negative values are the regions West of the prime meridian (0 degrees  longitude) to those regions to the East. When you know both the latitude and longitude for a given address, you can post that location to a map or calculate the location's distance from another known object.</i></font></p>
<p> <br /><big><big><big><font size="2"><big><big><big><b>Other Issues</b></big></big></big></font></big></big></big>  </p>
<p style="margin-bottom: 0in;"><font size="2">The <span style="font-weight: bold;">LocationSensor</span> has a function  called </font><font size="2"><b>DistanceInterval </b></font><font size="2">...the units are in meters.  Another feature is called </font><font size="2"><b>TimeInterval </b></font><font size="2">- it sets the frequency at which the GPS triggers an event or updates the location.  These controls trigger the GPS to attempt to get a satellite fix and determine its position. You can use time interval or you can request the device to trigger at a set interval... actually both sensors can be working simultaneously.   I believe but can not confirm the default time interval is 60000 ms ( one  minute) for most devices.  I believe the default </font><font size="2"><b>DistanceInterval</b></font><font size="2"> is zero ( 0 ).  If you want to work only on the basis of distance you may have to set the time interval to a large value.  I do not know whether distance interval can be controlled on every GPS in a phone/tablet, however, the time interval certainly will be controllable.</font></p>
<p style="margin-bottom: 0in;"><font size="2">Both values can be reset.  The simple GPS receivers in phones take a while to stabilize and acquire a satellite fix, so setting the </font><font size="2"><b>TimeInterval</b></font><font size="2">to a very small value exceeding the time the GPS takes to stabilize makes little sense. My experiments indicate your device might make a fix in as few as two to three seconds, though frequently longer time is required.  Frequent updates will contribute to draining the device's battery. There is no guarantee that after someone traverses intervals as small 10 meters, the GPS will update unless the accuracy is less than 10 meters. As a developer, you can overcome this by providing code that restricts updates to periods of reliability (GPS accuracy) you as a developer set.</font></p>
<p style="margin-bottom: 0in;"><font size="2">You can't test sensor code on the emulator because the emulator cannot emulate sensors. You must test your sensor code on a physical device. There are sensor simulators that you can use to simulate sensor output but they are not packaged with AI2.  The sensors do work well with aiCompanion using WIFI or USB if the device has a GPS.<br /></font></p>
<p style="margin-bottom: 0in;"><big><big><big><font size="2"><big><big><big><b>Using the Location Services API</b></big></big></big></font></big></big></big></p>
<p style="margin-bottom: 0in;"><font color="#000080"><small>This topic is not covered in this tutorial.   You may wish to look here:    </small><span lang="zxx" xml:lang="zxx"><u><a href="http://developer.android.com/training/location/index.html"><font size="2">http://developer.android.com/training/location/index.html</font></a></u></span></font><font size="2"> .  The link describes using the Google  Location Services API programming in Java.  Some of the information is  applicable to coding with AI2.  The Location Services API is a very different approach to geolocation  than described here using a GPS.  It requires either a network connection or WIFI.    Also you may wish to view </font><font color="#000080"><span lang="zxx" xml:lang="zxx"><u><a href="http://developer.android.com/reference/com/google/android/gms/location/package-summary.html"><font size="2">http://developer.android.com/reference/com/google/android/gms/location/package-summary.html</font></a></u></span></font></p>
<p style="margin-bottom: 0in;"><big><big><big><font size="2"><big><big><big><b>Downloads</b></big></big></big></font></big></big></big></p>
<p style="margin-bottom: 0in;"><font size="2">     Download the <a href="../sites/all/files/ai2tutorials/locationsensor/GPSAccuracyLogger.aia">Source File (.aia) for </a></font><a href="../sites/files/all/ai2tutorials/locationsensor/GPSAccuracyLogger.html"><font size="2"><i>GPS Accuracy Logger</i></font></a><font size="2">          Download the <a href="../sites/all/files/ai2tutorials/locationsensor/LocationSensorTest.aia">Source File (.aia) for  </a></font><a href="../sites/files/all/ai2tutorials/locationsensor/LocationSensorTest.html"><font size="2"><i>Location Sensor Test</i></font></a></p>
<!-- Shay commented this out b/c these other tutorials don't exist yet
<p style="margin-bottom: 0in;"><p><big><big><big><font size="2"><big><big><big><b>Series of Tutorials based on Geo-location</b></big></big></big></font></big></big></big></p>
<p style="margin-bottom: 0in;"><font size="2">This tutorial is Part I of a series on using AI2 to display and utilize location information.  The tutorial covered general GPS and geo-location principles, a simple GPS and an app to test the geo-location capabilities of a particular device.  Part II will cover geo-location using networks/wifi.  Part III will cover Maps and Mapping.  Part IV will cover the Google Map API and  Static Map APIs and possibly some of their lesser known mapping competition APIs.  Part V, perhaps calculating distances from point to point for small distance separation, calculating distances from point-to-point for large distance separation (the precise algorithms used for small distances are inappropriate and very inaccurate for Great Circle Paths and larger distances on the globe), Vincenty's algorithm etc.  Part VI, perhaps how to calculate distances with the Google Maps API and report driver's distances etc. versus point-to-point distances. Part VII, perhaps a location based game.  Part VII, perhaps working with the AI2 </font><font size="2"><b>OrientationSensor</b></font><font size="2"> to obtain a compass bearing in conjunction with location information.</font></p>
<p>-->
<p style="margin-bottom: 0in;"><font size="2">Have fun exploring the Location sensor.  --- Stephen Gradijan, March 2014</font></p>
</div></div></div><section class="field field-name-field-version field-type-taxonomy-term-reference field-label-above view-mode-full clearfix">

      <h2 class="field-label">Tutorial Version:&nbsp;</h2>
  
  <ul class="field-items">

    
      <li class="field-item even">
        <a href="../tutorial-version/app-inventor-2.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="">App Inventor 2</a>      </li>

    
  </ul>

</section>
<section class="field field-name-field-tutorial-difficulty field-type-taxonomy-term-reference field-label-above view-mode-full clearfix">

      <h2 class="field-label">Tutorial Difficulty:&nbsp;</h2>
  
  <ul class="field-items">

    
      <li class="field-item even">
        Advanced      </li>

    
  </ul>

</section>
<section class="field field-name-field-tutorial-type field-type-taxonomy-term-reference field-label-above view-mode-full clearfix">

      <h2 class="field-label">Tutorial Type:&nbsp;</h2>
  
  <ul class="field-items">

    
      <li class="field-item even">
        Location Sensor      </li>

    
      <li class="field-item odd">
        GPS      </li>

    
  </ul>

</section>
  </div>

  
  
</article>
    </div>
  </div>
</div>
  </div>
</div>

        
      </section>

        <aside class="region region-content-aside">
    <div id="block-block-25" class="block block-block block-odd block-count-6 block-region-content-aside">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <div id="container" style="margin: 10px 0px;width: 60%">
<div id="sub1" style="float:left;width:22%">
<a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="appinventor">Tweet</a>
<script>
<!--//--><![CDATA[// ><!--
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
//--><!]]>
</script></div>
<div id="sub2" style="float:left;width:24%">
<div id="fb-root"></div>
<script>
<!--//--><![CDATA[// ><!--
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "http://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
//--><!]]>
</script><div class="fb-share-button" data-href="" data-type="button_count"></div>
</div>
<div id="sub4" style="float:left;width:20%">
<script src="http://platform.linkedin.com/in.js" type="text/javascript">
<!--//--><![CDATA[// ><!--

  lang: en_US

//--><!]]>
</script><script type="IN/Share" data-counter="right"></script></div>
<div id="sub5" style="float:left;width:15%">
<p><a href="http://www.pinterest.com/pin/create/button/" data-pin-do="buttonBookmark"><img src="http://assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a></p>
<!-- Please call pinit.js only once per page --><script type="text/javascript" async="" src="http://assets.pinterest.com/js/pinit.js"></script><script type="text/javascript">
<!--//--><![CDATA[// ><!--

(function(d){
    var f = d.getElementsByTagName('SCRIPT')[0], p = d.createElement('SCRIPT');
    p.type = 'text/javascript';
    p.async = true;
    p.src = 'http://assets.pinterest.com/js/pinit.js';
    f.parentNode.insertBefore(p, f);
}(document));

//--><!]]>
</script></div>
<div id="sub3" style="float:left;width:19%">
<div class="g-plusone" data-size="medium"></div>
<script type="text/javascript">
<!--//--><![CDATA[// ><!--

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();

//--><!]]>
</script></div>
</div>
    </div>
  </div>
</div>
  </aside>

    </div></div>

            
  </div></div>

      <footer role="contentinfo">
              <div class="region region-footer">
    <div id="block-block-3" class="block block-block block-odd block-count-7 block-region-footer">
  <div class="block-inner clearfix">
                <div class="block-content content no-title">
      <style>
<!--/*--><![CDATA[/* ><!--*/

#footer-nav {
width: 60%;
margin: 0 auto;
left: 30px;
margin-bottom: 20px;
overflow: hidden;
position: relative;
}

#footer-nav ul{
width: 24%;
list-style: none;
display: block;
float: left;
}

/*--><!]]>*/
</style><div id="footer-nav">
<ul><li><strong>Home</strong></li>
<li><a href="../people.html">People</a></li>
</ul><ul><li><strong>Blog</strong></li>
<li><a href="../news-events.html">News + Events</a></li>
<li><a href="../stories.html">Stories</a></li>
<li><a href="../blog.html">Team Blog</a></li>
</ul><ul><li><strong>Using AI2</strong></li>
<li><a href="../get-started.html">Get Started</a></li>
<li><a href="../library.html">Library</a></li>
<li><a href="tutorials.html">Tutorials</a></li>
<li><a href="../resources.html">Resources</a></li>
<li><a href="https://groups.google.com/forum/#!categories/mitappinventortest" target="_blank">Forums</a></li>
</ul><ul><li><strong>Support</strong></li>
<li><a href="setup.html">Setup</a></li>
<li><a href="support/troubleshooting.html">Troubleshooting</a></li>
<li style="margin-top: 38px"><a href="../support.html">App Inventor Classic</a></li>
</ul></div>
<p style="text-align: center; clear:both;"><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a> <br />
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a></p>
<p style="text-align: center;">© 2012-2014 <a href="http://web.mit.edu/">Massachusetts Institute of Technology</a></p>
<p style="text-align: center;"><a href="../contact.html">Contact Us</a></p>
    </div>
  </div>
</div>
  </div>
    </footer>
  
</div>

  </body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
